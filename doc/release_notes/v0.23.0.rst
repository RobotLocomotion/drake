*************
Drake v0.23.0
*************

Announcements
-------------

* TBD

Breaking changes since v0.22.0
------------------------------

* The drake::systems::Subvector and drake::systems::Supervector are now marked
  final (`#13907`_)
* For drake::yaml::YamlReadArchive, it's now an error for yaml data to remain
  unparsed, unless the user opts in to allowing it. Users who want a different
  behavior should change the Options at construction-time. (`#13900`_)
* The drake::examples::rod2d::Rod2D::pose_output() port has been removed, as
  the system no longer connects to the systems::rendering API (`#13890`_).

Changes since v0.22.0
---------------------

Dynamical Systems
~~~~~~~~~~~~~~~~~

.. <relnotes for systems go here>

New features

* Provide System::get_input_port() and get_output_port() sugar (`#13883`_, `#13894`_, `#13895`_, `#13896`_, `#13897`_, `#13898`_)
* Optionally suppress simulator initialization events (`#13872`_)
* Add SequentialExpressionManager::GetSequentialExpressionNames (`#13925`_)

Fixes

* Add port names to InverseDynamicsController (`#13879`_)
* Mark Subvector and Supervector final (`#13907`_)

Mathematical Program
~~~~~~~~~~~~~~~~~~~~

.. <relnotes for solvers go here>

New features

* Change IPOPT eval_g to use double version of constraint evaluation (`#13891`_)
* Add MonomialBasisElement (`#13867`_)
* Add a function to compute polynomial basis up to a given order (`#13870`_)

Fixes

* TBD

Multibody Dynamics
~~~~~~~~~~~~~~~~~~

.. <relnotes for geometry,multibody go here>

New features

* Add API to compute SpatialAccelerationInWorld (`#13773`_)
* Support parsing massless bodies (`#13908`_, `#13927`_)
* New hydroelastic contact model in progress (`#13864`_)

Fixes

* Eliminate heap use from CalcMassMatrix() (`#13873`_, `#13928`_, `#13933`_, `#13953`_)

Tutorials and examples
~~~~~~~~~~~~~~~~~~~~~~

.. <relnotes for examples,tutorials go here>
[examples,multibody] * TBD Fix fixed-joint CalcMassMatrix() bug introduced in PR #13933 (`#13953`_)
* TBD cassie_bench: Pass optional arguments to benchmark program (`#13963`_)  # Relevant to: #13902 This patch allows passing additional cassie_bench arguments when using the :record_results target, or the conduct experiment script. In addition, it exploits the new capability to waste less build time running the :record_results test in debug mode.
[examples,manipulation,tools] * TBD Better schunk models in manipulation station (`#13922`_)

* In rod2d, use modern SceneGraph conventions for visualization (`#13890`_)

Miscellaneous features and fixes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. <relnotes for common,math,lcm,lcmtypes,manipulation,perception go here>
* TBD trajectories:  implement derivatives for PiecewiseQuaternion (`#13972`_)
[common,examples,systems] * TBD Revise Debug-mode cache value validation to avoid heap allocation (`#13951`_)
[common,multibody] * TBD schema: Move rotation and transform out of dev (`#13949`_)
* TBD Generic polynomial (`#13940`_)  # Add simple constructors for GenericPolynomial, and Differentiate function. The follow-on PRs will add more functionality to GenericPolynomial class. Eventually we will replace Polynomial class with GenericPolynomial<MonomialBasisElement> class.
[common,tools] * TBD workspace: Upgrade fmt to latest release 7.0.3 (`#13968`_)
[manipulation,multibody,solvers,systems,tools] * TBD Remove deprecated code (2020-09) (`#13939`_)

* manipulation: Add DifferentialInverseKinematicsIntegrator (`#13877`_, `#13919`_, `#13920`_)
* manipulation: Make Schunk WSG limit input port optional (`#13878`_)
* schema: Add stochastic types (`#13943`_)
* yaml: Allow omitting the root name while writing (`#13915`_)
* yaml: It's an error by default for yaml data to remain unparsed (`#13900`_)

pydrake bindings
~~~~~~~~~~~~~~~~

.. <relnotes for bindings go here>

New features

* Add pydrake.systems.jupyter_widgets.WidgetSystem (`#13882`_)

Fixes

* Ensure that multiply (matmul) preserves input shape (`#13886`_)
* Add missing import for jupyter widgets (`#13941`_)

Newly bound

* pydrake.geometry.render.MakeRenderEngineOspray (`#13893`_)

Build system and dependencies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. <relnotes for attic,cmake,doc,setup,third_party,tools go here>
* TBD Explicitly set font-family for all monospaced HTML elements (`#13952`_)
* TBD workspace: Upgrade ros_xacro to latest release 1.13.8 (`#13967`_)
* TBD workspace: Upgrade bazel_skylib to latest release 1.0.3 (`#13969`_)
* TBD workspace: Upgrade ghc_filesystem to latest release 1.3.4 (`#13966`_)
* TBD Remove everything in the attic (`#13889`_)
* TBD

Newly-deprecated APIs
~~~~~~~~~~~~~~~~~~~~~

* drake::systems::Subvector 1-argument constructor (`#13907`_)

Removal of deprecated items
~~~~~~~~~~~~~~~~~~~~~~~~~~~

* TBD

Notes
-----

This release provides `pre-compiled binaries
<https://github.com/RobotLocomotion/drake/releases/tag/v0.23.0>`__ named
``drake-YYYYMMDD-{bionic|focal|mac}.tar.gz``. See :ref:`Nightly Releases
<nightly-releases>` for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of `SNOPT
<https://ccom.ucsd.edu/~optimizers/solvers/snopt/>`__ as part of the
`Mathematical Program toolbox
<https://drake.mit.edu/doxygen_cxx/group__solvers.html>`__. Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

.. <begin issue links>
.. _#13773: https://github.com/RobotLocomotion/drake/pull/13773
.. _#13864: https://github.com/RobotLocomotion/drake/pull/13864
.. _#13867: https://github.com/RobotLocomotion/drake/pull/13867
.. _#13870: https://github.com/RobotLocomotion/drake/pull/13870
.. _#13872: https://github.com/RobotLocomotion/drake/pull/13872
.. _#13873: https://github.com/RobotLocomotion/drake/pull/13873
.. _#13877: https://github.com/RobotLocomotion/drake/pull/13877
.. _#13878: https://github.com/RobotLocomotion/drake/pull/13878
.. _#13879: https://github.com/RobotLocomotion/drake/pull/13879
.. _#13882: https://github.com/RobotLocomotion/drake/pull/13882
.. _#13883: https://github.com/RobotLocomotion/drake/pull/13883
.. _#13886: https://github.com/RobotLocomotion/drake/pull/13886
.. _#13889: https://github.com/RobotLocomotion/drake/pull/13889
.. _#13890: https://github.com/RobotLocomotion/drake/pull/13890
.. _#13891: https://github.com/RobotLocomotion/drake/pull/13891
.. _#13893: https://github.com/RobotLocomotion/drake/pull/13893
.. _#13900: https://github.com/RobotLocomotion/drake/pull/13900
.. _#13907: https://github.com/RobotLocomotion/drake/pull/13907
.. _#13908: https://github.com/RobotLocomotion/drake/pull/13908
.. _#13915: https://github.com/RobotLocomotion/drake/pull/13915
.. _#13922: https://github.com/RobotLocomotion/drake/pull/13922
.. _#13925: https://github.com/RobotLocomotion/drake/pull/13925
.. _#13939: https://github.com/RobotLocomotion/drake/pull/13939
.. _#13940: https://github.com/RobotLocomotion/drake/pull/13940
.. _#13941: https://github.com/RobotLocomotion/drake/pull/13941
.. _#13943: https://github.com/RobotLocomotion/drake/pull/13943
.. _#13949: https://github.com/RobotLocomotion/drake/pull/13949
.. _#13951: https://github.com/RobotLocomotion/drake/pull/13951
.. _#13952: https://github.com/RobotLocomotion/drake/pull/13952
.. _#13953: https://github.com/RobotLocomotion/drake/pull/13953
.. _#13963: https://github.com/RobotLocomotion/drake/pull/13963
.. _#13966: https://github.com/RobotLocomotion/drake/pull/13966
.. _#13967: https://github.com/RobotLocomotion/drake/pull/13967
.. _#13968: https://github.com/RobotLocomotion/drake/pull/13968
.. _#13969: https://github.com/RobotLocomotion/drake/pull/13969
.. _#13972: https://github.com/RobotLocomotion/drake/pull/13972
.. <end issue links>

..
  Current oldest_commit 0de592fdd53d55132b45a7a7c86b979a99f561e4 (exclusive).
  Current newest_commit eff4185cd5600b017bfe50edcc0ff81864ca700b (inclusive).
