*************
Drake v0.16.0
*************

Announcements
-------------

* New tutorial on nonlinear programming (`#12744`_)
  
* The C++ Doxygen pages are somewhat less cluttered now (`#12795`_, `#12796`_)

Breaking changes since v0.15.0
------------------------------

These are breaking changes that did not undergo a deprecation period:

* Drake no longer supports user-defined scalar types (`#12657`_, `#12797`_, `#12823`_)

  * TODO(jwnimmer-tri) Explanatory text related to issue (`#12814`_).

* Removed the ability to override LeafSystem allocation methods (`#12792`_)

  * Subclasses should use the model vector (or model value) APIs to declare
    state, parameters, etc. instead of overriding these virtual methods.

* Removed pydrake.examples.AcrobotPlant.CalcPotentialEnergy (`#12794`_)
* Removed pydrake.examples.AcrobotPlant.CalcKineticEnergy (`#12794`_)
* Renamed RigidBodyTree-based implementation of
  drake::manipulation::planner::ConstraintRelaxingIk to
  drake::manipulation::planner::ConstraintRelaxingIkRbt (`#12732`_)

* Removed godot_renderer/dev (`#12826`_)

* Removed stereographic projection derivation (`#12834`_)

Changes since v0.15.0:
----------------------

Dynamical Systems
~~~~~~~~~~~~~~~~~

New features

* Allow specific cache entries to be initially disabled (`#12803`_)
* Systems reject ContinuousState that they did not create (`#12630`_)
* Added math::IsPositiveDefinite (`#12813`_)

Fixes

* Diagrams now report correct state counts (`#12701`_)


Mathematical Program
~~~~~~~~~~~~~~~~~~~~

New features

TBD

Fixes

TBD

Multibody Dynamics
~~~~~~~~~~~~~~~~~~

New features

* Added more MultibodyPlant intermediate calculations to cache

  * Shift vector p_PoBo_W to cache (`#12724`_)
  * spatial acceleration bias Ab_WB and ABA bias Zb_Bo_W (`#12716`_, `#12750`_)

* Improved error message for invalid spatial inertia (`#12766`_)
* SpatialInertia support for massless bodies (`#12809`_)
* Velocity-implicit Euler integrator in progress (`#12543`_, `#12740`_)
* Added doc about the availability of force/torque sensor (`#12791`_)

* New hydroelastic contact model in progress (`#12597`_, `#12699`_, `#12751`_,
  `#12763`_, `#12745`_, `#12730`_)

  * Still only experimental
  * Improve performance
  * Improve architecture

* Added support for derivative of signed distance between a pair of geometries (`#12720`_)
* Platform conditional build of a skeleton OpenGL render engine (`#12623`_)

Fixes

* Got rid of accidental heap allocation within CalcArticulatedBodyForceBiasCache() (`#12728`_)
* Alphabetized targets in geometry/proximity/BUILD (`#12748`_)
* Quarantined FCL's haphazard use of const in broadphase (`#12746`_)
* Fixed catastrophic cancellation in point mass unit inertias (`#12758`_)

Miscellaneous features and fixes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Add the capability to visualize collisions in geometry_inspector (`#12736`_)
* Add operator<< to sorted_pair (`#12801`_)
* Fix allegro_hand discrete update period (`#12734`_)
* Improve the simple_gripper example to make it possible to test more integrators (`#12742`_)

pydrake bindings
~~~~~~~~~~~~~~~~

* pydrake.systems.framework.System.EvalKineticEnergy (`#12794`_) 
* pydrake.systems.framework.System.EvalPotentialEnergy (`#12794`_) 
* pydrake.systems.primitives.DiscreteDerivative (`#12770`_)
* pydrake.systems.primitives.StateInterpolatorWithDiscreteDerivative (`#12770`_)
* Fix pydrake.solvers.ScsSolverDetails numpy-typed fields (`#12737`_)
* Fix pydrake.solvers.SnoptSolverDetails numpy-typed fields (`#12737`_)

Build system and dependencies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Use system Eigen >= 3.3.4, not downloaded bitbucket tag (`#12784`_, `#12780`_)
* Upgrade bazel minimum and recommended versions to 2.0 and 2.1 respectively (`#12729`_)
* Upgrade fcl to latest release (`#12762`_)
* Upgrade ghc_filesystem to latest release 1.3.0 (`#12799`_)
* Upgrade styleguide to latest commit (includes cpplint changes) (`#12765`_, `#12800`_, `#12776`_)
* Fix missing load() in drake_bazel_installed support (`#12605`_)
* Add no_kcov to cpplint_unittest (`#12822`_)

Newly-deprecated APIs
~~~~~~~~~~~~~~~~~~~~~

* APIs:

  * drake::examples::kuka_iiwa_arm::EncodeKeyFrames (`#12732`_)
  * drake::examples::kuka_iiwa_arm::IiwaContactResultsToExternalTorque (`#12732`_)
  * drake::examples::kuka_iiwa_arm::VerifyIiwaTree (`#12732`_)
  * drake::manipulation::planner::ConstraintRelaxingIkRbt (`#12732`_)
  * DRAKE_DECLARE_COPY_AND_MOVE_AND_ASSIGN (`#12735`_)
  * DRAKE_DEFINE_DEFAULT_COPY_AND_MOVE_AND_ASSIGN_T (`#12735`_)

Removal of deprecated items
~~~~~~~~~~~~~~~~~~~~~~~~~~

* APIs

  * drake::geometry::Capsule::get_length (`#12781`_)
  * drake::geometry::Capsule::get_radius (`#12781`_)
  * drake::geometry::Cylinder::get_length (`#12781`_)
  * drake::geometry::Cylinder::get_radius (`#12781`_)
  * drake::geometry::Ellipsoid::get_a (`#12781`_)
  * drake::geometry::Ellipsoid::get_b (`#12781`_)
  * drake::geometry::Ellipsoid::get_c (`#12781`_)
  * drake::geometry::Sphere::get_radius (`#12781`_)
  * pydrake.attic.multibody.rigid_body_tree.RigidBodyTree.number_of_positions (`#12781`_)
  * pydrake.attic.multibody.rigid_body_tree.RigidBodyTree.number_of_velocities (`#12781`_)
  * pydrake.geometry.Capsule.get_length (`#12781`_)
  * pydrake.geometry.Capsule.get_radius (`#12781`_)
  * pydrake.geometry.Cylinder.get_length (`#12781`_)
  * pydrake.geometry.Cylinder.get_radius (`#12781`_)
  * pydrake.geometry.Ellipsoid.get_a (`#12781`_)
  * pydrake.geometry.Ellipsoid.get_b (`#12781`_)
  * pydrake.geometry.Ellipsoid.get_c (`#12781`_)
  * pydrake.geometry.Sphere.get_radius (`#12781`_)
  * DRAKE_SPDLOG_TRACE (`#12781`_)
  * DRAKE_SPDLOG_DEBUG (`#12781`_)
  * drake/multibody/tree/multibody_tree_element.h header (`#12781`_)
    
* Examples:

  * Double pendulum (`#12725`_)
  * PR2 Passive Simulation (`#12708`_)

Commits to be categorized
-------------------------

Current oldest_commit 65e58dfe7ef972ac524c8ab683db490548ac4c42 (inclusive).
Current newest_commit 20364232efd9b27486f83fbc0ecabd0cda5179e2 (inclusive).

