*************
Drake v0.16.0
*************

Announcements
-------------

TBD

Breaking changes since v0.15.0
------------------------------

These are breaking changes that did not undergo a deprecation period:

TBD

Changes since v0.15.0:
----------------------

Dynamical Systems
~~~~~~~~~~~~~~~~~

New features

* Added doc about the availability of force/torque sensor (`#12791`_)

Fixes

TBD

Mathematical Program
~~~~~~~~~~~~~~~~~~~~

New features

TBD

Fixes

TBD

Multibody Dynamics
~~~~~~~~~~~~~~~~~~

New features

* Added more MultibodyPlant intermediate calculations to cache

  * Shift vector p_PoBo_W to cache (`#12724`_)
  * spatial acceleration bias Ab_WB and ABA bias Zb_Bo_W (`#12716`_, `#12750`_)

* Added support for derivative of signed distance between a pair of geometries (`#12720`_)
* Improved error message for invalid spatial inertia (`#12766`_)
* Velocity-implicit Euler integrator in progress (`#12543`_, `#12740`_)

* New hydroelastic contact model in progress (`#12597`_, `#12699`_, `#12751`_,
  `#12763`_)

  * Still only experimental
  * Improve performance
  * Improve architecture

Fixes

* Got rid of accidental heap allocation within CalcArticulatedBodyForceBiasCache() (`#12728`_)
* Alphabetized targets in geometry/proximity/BUILD (`#12748`_)
* Quarantined FCL's haphazard use of const in broadphase (`#12746`_)
* Fixed catastrophic cancellation in point mass unit inertias (`#12758`_)

Examples
--------

TBD

Miscellaneous features and fixes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

TBD

pydrake bindings
~~~~~~~~~~~~~~~~

* Fixed minor issues related to doc-referencing practices (`#12718`_)
* Separated and added attic related targets (`#12727`_)

Build system and dependencies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Use system Eigen >= 3.3.4, not downloaded bitbucket tag (`#12784`_, `#12780`_)
* Upgrade bazel minimum and recommended versions to 2.0 and 2.1 respectively (`#12729`_)
* Upgrade fcl to latest release (`#12762`_)
* Upgrade ghc_filesystem to latest release 1.3.0 (`#12799`_)
* Upgrade styleguide to latest commit (includes cpplint changes) (`#12765`_, `#12800`_)

Newly-deprecated APIs
~~~~~~~~~~~~~~~~~~~~~

TBD

Removal of deprecated items
~~~~~~~~~~~~~~~~~~~~~~~~~~

* Examples:

  * Double pendulum (`#12725`_)
  * PR2 Passive Simulation (`#12708`_)

Commits to be categorized
-------------------------

Current oldest_commit 65e58dfe7ef972ac524c8ab683db490548ac4c42 (inclusive).
Current newest_commit f3a09803a8a95f8f6eacccb2fba4ea2b5ca8c996 (inclusive).

pybind
* mkdoc: Warn about unused ignore patterns (`#12727`_)
* Add missing load of py_library rule in drake_bazel_installed (`#12605`_)
* add pybind11/eigen.h to pydrake/solvers (`#12737`_)
* Add notes about lack of support for meshcat-visualizer on Binder (`#12774`_)
* Link to nightly release jupyter notebooks rather than those on master (`#12774`_)
* Add bindings for DiscreteDerivative (`#12770`_)  # Also for StateInterpolatorWithDiscreteDerivative
* Bind kinetic and potential energy system method in python (`#12794`_)  # Make pendulum/acrobot examples use that API. Newly bound: pydrake.systems.framework.System.EvalPotentialEnergy pydrake.systems.framework.System.EvalKineticEnergy Removed without deprecation: pydrake.examples.AcrobotPlant.CalcPotentialEnergy pydrake.examples.AcrobotPlant.CalcKineticEnergy

build
* Remove extern template work-arounds for GCC pre-6.3 (`#12735`_)  # Deprecate its two support macros DRAKE_DECLARE_COPY_AND_MOVE_AND_ASSIGN and DRAKE_DEFINE_DEFAULT_COPY_AND_MOVE_AND_ASSIGN_T.
* examples: Rename inl.h's cc files to make room for a pending rename (`#12710`_)
* examples: Remove uses of inl.h pattern (`#12710`_)  # We no longer use the inl pattern in Drake, and anyway it serves no purpose for standalone (non-library) examples.
* Remove -inl patterns in systems/analysis and move implementations to cc files (`#12657`_)
* lint: Remove unused *.imp file (`#12743`_)
* IWYU: Include initializer_list when it's used (`#12768`_)

example
* allegro_hand: Use correct timestep and add regression test (`#12734`_)
* quadrotor: Port dynamics demo to MultibodyPlant (`#12726`_)  # Also port the dynamic unit test to MultibodyPlant, including removing some directly-tested conditions (e.g., EvalTimeDerivatives).  In the rewrite, we only inspect the final pose after falling.  This is MUCH simpler given the differing generalized coordinates, but should still be sufficient coverage to discover any errors in the velocities or accelerations.

multibody

Miscellaneous
* Add the capability to visualize collisions in geometry_inspector (`#12736`_)
* geometry_visualization: Add Python test of publishing (`#12733`_)
* Stream sorted pair (`#12801`_)  # This gives the SortedPair type to be written to an output stream, contingent on the underlying types being writable. A convenient piece of functionality for tests.

deprecation
* Remove remaining usage of RigidBodyTree and deprecate the remaining functions (`#12732`_)
* Remove deprecated 2020-03-01 (`#12781`_)

dynamical systems
* A better way to get declared context sizes (`#12701`_)
* framework: Remove the ability to override allocation methods (`#12792`_)  # Subclasses should use the model vector (or model value) APIs to declare state, parameters, etc. instead of overriding these virtual methods.
* Allow specific cache entries to be initially disabled (`#12803`_)
* Add a MultibodyPlant version of ConstraintRelaxingIk (`#12732`_)  # Switch move_iiwa_ee to the mbp version of ConstraintRelaxingIk Deprecate the RBT implementation which now has no users.

doc/tutorial
* render riccati equation properly in CARE doc (`#12761`_)
* Add a tutorial on nonlinear programming (`#12744`_)  # Adds a tutorial on nonlinear programming.
* doc: Remove attic classes from Doxygen (`#12795`_)  # When attic modules are shown in the C++ documentation, there is noting that highlights them as legacy or to-be-deprecated so it is too easy for users to stumble into misleading information. (Note that for pydrake, attic code lives in the attic module so at least the information is segregated.)
* Clean up Doxygen to prune junk from overview pages (`#12796`_)  # Only parse headers, not cc files. Exclude all unit tests. Exclude all internal namespaces. Exclude MG (autogenerated MotionGenesis sources). Exclude top-level namespaces other than drake (Eigen, pybind11, false positives from using-statements, etc.) Use correct bouncing_ball namespace in code. Use correct free_body namespace in code. Use correct pose_aggregator_internal namespace in code. Use correct spelling for RenderLabel hashing. Hide csdp namespace in code.

PRs to omit from release notes
* pendulum: Update urdf_dynamics_test to use MultibodyPlant (`#12723`_)
* Release notes v0.15.0 (`#12704`_)  # * Release notes for v0.15.0
* quadrotor: Split plant unit test into its own file (`#12731`_)  # For clarity, we should not mix unit tests with acceptance tests.
* Add Rick, Damrong, Bel, and me to the Credits (`#12741`_)

???
* primitives: Rename old cc files out of the way (`#12797`_)  # This clears the way for the header's history to replace the cc file's history in a future commit.
* primitives: Copy h files to cc files to preserve history (`#12797`_)  # These files are not yet part of the build, but due to the missing header files this commit will not compile.  This commit is technically a rename (move), but once combined with a future merge commit will behave like a copy instead.
* primitives: Restore h files to unmodified status (`#12797`_)
* primitives: Rework header code into cc files (`#12797`_)
