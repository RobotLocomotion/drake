*************
Drake v0.20.0
*************

Announcements
-------------

.. warning::

  On macOS, Drake only supports Python 3.8.  Users **must** read `#13097`_ for
  upgrade instructions.

  When paths are set incorrectly, you will see an error such as this::

      ImportError: Python version mismatch: module was compiled for Python 3.8, but the interpreter version is incompatible: 3.7.7

Breaking changes since v0.19.0
------------------------------

These are breaking changes that did not undergo a deprecation period:

TBD

Changes since v0.19.0:
----------------------

Dynamical Systems
~~~~~~~~~~~~~~~~~

New features

TBD

Fixes

TBD
* systems: Implement SystemVisitor (`#13628`_)  # Provides a visitor pattern to introspect into Diagrams (as Diagrams) and LeafSystems (as Systems) from a const System<T>&.  This is very useful for looping through a nested diagram.

Mathematical Program
~~~~~~~~~~~~~~~~~~~~

New features

TBD

Fixes

TBD
* common: Create even or odd degree monomial basis (`#13605`_)
* solvers: SdpaFreeFormat can remove free variables (`#13600`_)  # SdpaFreeFormat can remove free variables. Previously only CSDP solver can remove free variables. Now we moved this feature from CSDP solver to SdpaFreeFormat.

Multibody Dynamics
~~~~~~~~~~~~~~~~~~

New features

* RenderEngineGl is now available (`#13584`_, `#13616`_, `#13629`_)
* Add accelerometer sensor (`#13501`_)
* Add gyroscope sensor (`#13604`_)
* Enable CalcBiasSpatialAcceleration to have non-world measured-in-frame (`#13453`_)
* Enable CalcBiasTranslationalAcceleration for non-world measured-in frame (`#13587`_)
* Add base infrastructure for declaring full camera intrinsics; new RenderCameraCore, ColorRenderCamera, and DepthRenderCameras are introduced; RgbdSensor API extend to provide RenderCamera compatible interface; in the future, CameraProperties will be deprecated. (`#13557`_, `#13634`_)

Fixes

* Fix BeamModel's scalar conversion constructor (`#13615`_)
* Declare SceneGraph related ports in MultibodyPlant constructor (`#13558`_)

Tutorials and examples
~~~~~~~~~~~~~~~~~~~~~~

TBD

Miscellaneous features and fixes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* yaml: Add retain_map_defaults to YamlReadArchive::Options (`#13590`_)
* planar_gripper: Add additional lcm message types (`#13554`_)

pydrake bindings
~~~~~~~~~~~~~~~~

New features

TBD

Fixes

TBD

Newly bound

TBD
* bindings: Add ConnectMeshcatVisualizer (`#13632`_)  # Provides the same syntactic sugar that we've given to ConnectDrakeVisualizer and ConnectPlanarSceneGraphVisualizer.  (the implementation here is almost identical to the planar scene graph version)
* bindings: Add bindings for SceneGraphInspector and Shapes (`#13559`_)
* bindings: Add python binding for MPResult.set_x_val (`#13577`_)
* bindings: Added binding for MBP.CalcCenterOfMassPosition (`#13594`_)
* bindings: Fix deprecated pydrake Isometry3 stubs (`#13607`_)  # In 24113fc9f3d60cbc37cf9d46688c2130d267b4bf, the replacement stubs were calling the wrong methods.
* bindings: Pass animation arguments through to meshcat (`#13643`_)  # I've named them here, instead of passing kwargs, to improve readability/usability.
* pydrake: Add regression test for deprecated Isometry3 stubs (`#13608`_)  # This tests the fixes in de3271607a4d3c1313c49e73e90db04a52feff04.
* pydrake: Add bindings for AcrobotPlant (`#13556`_)  # * Add bindings for AcrobotPlant

Build system and dependencies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* On macOS, use Sphinx from Homebrew instead of PyPI (`#13551`_, `#13575`_)
* On Ubuntu, the minimum GCC version is now 7.5 (`#13611`_)
* Fix Ubuntu Focal 20.04 to use C++ flavor of nlopt (`#13633`_)
* Upgrade buildifier to latest release 3.3.0 (`#13620`_)
* Upgrade fcl to latest commit (`#13621`_)
* Upgrade googlebenchmark to latest release (`#13623`_)
* Upgrade lcm to latest commit (`#13622`_)
* Upgrade pybind11 fork to latest commit (`#13579`_)

Newly-deprecated APIs
~~~~~~~~~~~~~~~~~~~~~

TBD
* examples,manipulation,math,multibody,systems: Deprecate RigidTransform/Isometry3 automatic conversion (`#13595`_)
* manipulation: manipulation/util: Deprecate bot_core_encode_decode (`#13596`_)

The RigidBodyPlant and all of the drake "attic" is scheduled for removal on
2020-09-01 (`#12158`_, `#13030`_).  Please see `#12158`_ for details of the
timeline, and let us know if this will cause a problem.

Removal of deprecated items
~~~~~~~~~~~~~~~~~~~~~~~~~~~

TBD
* examples: examples: Remove deprecated methods 2020-07-01 (`#13612`_)
* common,systems: trajectories: Remove deprecated methods 2020-07-01 (`#13610`_)

Notes
-----

This release provides `pre-compiled binaries
<https://github.com/RobotLocomotion/drake/releases/tag/v0.20.0>`__ named
``drake-YYYYMMDD-{bionic|focal|mac}.tar.gz``. See :ref:`Nightly Releases
<nightly-releases>` for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of `SNOPT
<https://ccom.ucsd.edu/~optimizers/solvers/snopt/>`__ as part of the
`Mathematical Program toolbox
<https://drake.mit.edu/doxygen_cxx/group__solvers.html>`__. Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

..
  Current oldest_commit 43a28f99ac2aa9d152c096b6a878465336d879f6 (inclusive).
  Current newest_commit 0eccf1a5f26727bcf394443d4aee22e4278cac5f (inclusive).
