---
title: Drake v1.38.0
date: 2099-12-31
released: YYYY-MM-DD
---

# Announcements

* Build changes
  * When building from source, there is now a single `setup/install_prereqs`
    script for all platforms, which defaults to installing only the build
    prereqs (not developer prereqs) ([#22461][_#22461]).
  * The macOS binary `install_prereqs` installs Python packages into a venv
    instead of system-wide ([#22477][_#22477]).
* TBD find more?

# Breaking changes since v1.37.0

* Remove MUMPS support in wheel builds of Ipopt ([#22489][_#22489]). This was
  already deprecated, but we found the need to accelerate the timeline.
* Remove the ability for Python subclasses of `MaxCliqueSolverBase` to override
  the `DoClone` virtual function ([#22425][_#22425]). The `Clone` function is
  deprecated and unused anyway, so this shouldn't be a problem in practice.

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.37.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

New features

* Add parameters to RgbdSensorAsync ([#22427][_#22427])

Fixes

* Fix diagram scalar conversion losing external constraints ([#22490][_#22490])

## Mathematical Program

<!-- <relnotes for solvers go here> -->

New features

* Makes GCS clonable and implements ImplicitGcsFromExplicit ([#22369][_#22369])

Fixes

* None

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* [feature] TBD [multibody,common] [multibody] Add CurvilinearJoint #22350) ([#22350][_#22350])  # Adds a Joint and corresponding Mobilizer which model a single-DoF joint along a path composed of circular arcs and line segments within a plane. Implements #22196 Co-Authored-By: amcastro-tri <alejandro.castro@tri.global>
* [fix] TBD [multibody,workspace] [mujoco parser] upgrade unsupported mesh to error ([#22481][_#22481])  # Previously if a mesh was unsupported, then we only produceed a warning and ignored the associated geometry. Now it is an error. (We can use make_drake_compatible_mesh in the manipulation repo to batch convert stl to obj, etc). Also removes the "if you said stl but I can find a juxtaposed obj, I'll use it" logic. The non-uniform mesh warning was turned to an error (non-uniform meshes already threw an error, but later in the pipeline). All of the errors now reference http://drake.mit.edu/troubleshooting.html which points to make_drake_compatible_model. Resolves #20444.  Hoorah!
* [fix] TBD Improve meshcat mtl processing ([#22487][_#22487])  # Previously it failed to find map_* lines which were on the last line of the file (with no trailing newline).
* [feature] TBD Meshcat AddSlider and SetSliderValue return rounded/truncated value ([#22495][_#22495])  # They are computing this anyhow, so it is no burden to return them. And it turns out to be useful for my follow-up PR to JointSliders which has to reason explicitly about the rounding happening in the sliders.
* [fix] TBD [inverse_kinematics] Fix plant lifetime in AddMultibodyPlantConstraints ([#22502][_#22502])
* [fix] TBD [geometry,doc,workspace,tools] [build] Dynamically load GL/GLX/EGL/OpenGL ([#22494][_#22494])  # Do not directly link to OpenGL or GLX anymore. Instead, load them on demand using GLAD. This means that our wheels no longer contain a copy of Ubuntu's OpenGL implementation.
* [fix] TBD Fix "ref" attribute handling in mujoco parser ([#22497][_#22497])  # Resolves #22462 (and the extensive discussion therein). MuJoCo's ref doesn't change the posture of the model, it says that the posture in the mjcf should be treated not as zero, but as ref.
* [fix] TBD [geometry,workspace] Correct parsing for multiple materials ([#22524][_#22524])  # If a material specifies a diffuse map (map_Kd) but doesn't specify a Kd value, it *should* default to white. However, for multiple materials in the file, the parser makes an error. It attempts to track whether the material has specified Kd. But it never resets that record. So, as soon as any material specifies Kd, all subsequent material definitions are classified as *also* having provided one -- even if they haven't. This leads to the correctly reset diffuse color of black being used with diffuse textures (producing black meshes). This simply resets the `has_kd` flag every time a new material definition starts.
* [fix] TBD [Mujoco parser] Silently ignore some attributes/elements ([#22493][_#22493])  # Now that MuJoCo has space in `parsing_doxygen.h` where we can list "silently ignored" attributes and elements, this PR goes through and silences those elements that we will never support (and reasonable users would not expected us to support). This will help cut down a bit on the substantial noise coming out of the parser. It also adds a few new warnings for new attributes and elements that have managed to spring up in the mujoco documentation.
* [fix] TBD [py multibody] Adjust element-adding API to avoid unique_ptr ([#22498][_#22498])  # This reduces our reliance RLG/pybind11 custom unique_ptr semantics. Introduce a new DoShallowClone virtual function on Joint, Frame, and ForceElement. Downstream code that has implemented its own subclass of any of those bases and bound the subclass in Python must override the new virtual function. Python code must no longer assume that the object passed AddJoint, AddFrame, or AddForceElement is what gets added to the plant. Instead, code should always capture the return value, i.e., joint = plant.AddJoint(PrismaticJoint(...)) or joint = PrismaticJoint(...) joint = plant.AddJoint(joint) are fine, but in this approach joint = PrismaticJoint(...) plant.AddJoint(joint) the original 'joint' object will NOT necessarily be part of the plant, so would probably be a mistake to be used thereafter.

New features

* TBD

Fixes

* TBD

## Planning

<!-- <relnotes for planning go here> -->

New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* In notebooks, `pydrake.systems.drawing.plot_graphviz` uses an improved IPython display via SVG ([#22526][_#22526])

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* Implement `BsplineTrajectory` and `BsplineBasis` "linear in control points" logic ([#22535][_#22535])

## pydrake bindings

<!-- <relnotes for bindings go here> -->

New features

* None

Fixes

* Setting context values now clones instead of owns ([#22455][_#22455])
* Fix model_visualizer --show_rgbd_sensor on Ubuntu ([#22492][_#22492])

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* There is now a single `setup/install_prereqs` script for all platforms ([#22461][_#22461])
* The macOS binary `install_prereqs` installs Python packages into a venv instead of system-wide ([#22477][_#22477])
* Fix when installing from source and CMake's `WITH_USER_...` option for eigen, fmt, or spdlog is `OFF` to install their headers alongside Drake's headers ([#22520][_#22520])
* Fix installed pybind11-config to find the correct python version ([#22333][_#22333])
* Installed lcmtypes C++ message classes are now part of the main Drake CMake library rather than a separate one ([#22521][_#22521])

## Build dependencies

<!-- <relnotes for workspace go here> -->

* Use `clang-format` from bzlmod instead of Ubuntu / Homebrew ([#22504][_#22504])
* Downgrade `rules_cc` to 0.0.17 ([#22483][_#22483])
* Upgrade `bazel` to latest release 8.0.1 ([#22538][_#22538])
* Upgrade `drake_models` to latest commit ([#22454][_#22454], [#22508][_#22508])
* Upgrade `python` venv (macOS) to latest ([#22503][_#22503])

## Newly-deprecated APIs

* [newly deprecated] TBD [sensors] Add parameters to RgbdSensorAsync ([#22427][_#22427])  # This patch is roughly the parallel of recent parameterization upgrades for RgbdSensor. It adds context parameters for much of the configuration of RgbdSensorAsync, and deprecates some of the old accessor methods.
* [newly deprecated] TBD [analysis] Use shared_ptr for MonteCarlo simulator factory ([#22528][_#22528])  # Deprecate the previous typedef that used unique_ptr. Adjust pydrake bindings to use the shared_ptr callback, and fix wrong grouping scope for unrelated classes.
* [newly deprecated] TBD [planning] Deprecate MaxCliqueSolverBase::Clone ([#22425][_#22425])
* [newly deprecated] TBD [geometry,doc,workspace,tools] [build] Dynamically load GL/GLX/EGL/OpenGL ([#22494][_#22494])  # Do not directly link to OpenGL or GLX anymore. Instead, load them on demand using GLAD. This means that our wheels no longer contain a copy of Ubuntu's OpenGL implementation.

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.38.0) named
``drake-1.38.0-{jammy|noble|mac-arm64}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#22333]: https://github.com/RobotLocomotion/drake/pull/22333
[_#22350]: https://github.com/RobotLocomotion/drake/pull/22350
[_#22369]: https://github.com/RobotLocomotion/drake/pull/22369
[_#22425]: https://github.com/RobotLocomotion/drake/pull/22425
[_#22427]: https://github.com/RobotLocomotion/drake/pull/22427
[_#22454]: https://github.com/RobotLocomotion/drake/pull/22454
[_#22455]: https://github.com/RobotLocomotion/drake/pull/22455
[_#22461]: https://github.com/RobotLocomotion/drake/pull/22461
[_#22477]: https://github.com/RobotLocomotion/drake/pull/22477
[_#22481]: https://github.com/RobotLocomotion/drake/pull/22481
[_#22483]: https://github.com/RobotLocomotion/drake/pull/22483
[_#22487]: https://github.com/RobotLocomotion/drake/pull/22487
[_#22489]: https://github.com/RobotLocomotion/drake/pull/22489
[_#22490]: https://github.com/RobotLocomotion/drake/pull/22490
[_#22492]: https://github.com/RobotLocomotion/drake/pull/22492
[_#22493]: https://github.com/RobotLocomotion/drake/pull/22493
[_#22494]: https://github.com/RobotLocomotion/drake/pull/22494
[_#22495]: https://github.com/RobotLocomotion/drake/pull/22495
[_#22497]: https://github.com/RobotLocomotion/drake/pull/22497
[_#22498]: https://github.com/RobotLocomotion/drake/pull/22498
[_#22502]: https://github.com/RobotLocomotion/drake/pull/22502
[_#22503]: https://github.com/RobotLocomotion/drake/pull/22503
[_#22504]: https://github.com/RobotLocomotion/drake/pull/22504
[_#22508]: https://github.com/RobotLocomotion/drake/pull/22508
[_#22520]: https://github.com/RobotLocomotion/drake/pull/22520
[_#22521]: https://github.com/RobotLocomotion/drake/pull/22521
[_#22524]: https://github.com/RobotLocomotion/drake/pull/22524
[_#22526]: https://github.com/RobotLocomotion/drake/pull/22526
[_#22528]: https://github.com/RobotLocomotion/drake/pull/22528
[_#22535]: https://github.com/RobotLocomotion/drake/pull/22535
[_#22538]: https://github.com/RobotLocomotion/drake/pull/22538
<!-- <end issue links> -->

<!--
  Current oldest_commit 6e2350171d34d51cb66b8d5e520252a638c2729a (exclusive).
  Current newest_commit 0eac4a39030ed4dbde14c42a4a02069e0bdfda08 (inclusive).
-->
