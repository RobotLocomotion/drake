---
title: Drake v1.37.0
date: 2099-12-31
released: YYYY-MM-DD
---

# Announcements

* TBD

# Breaking changes since v1.36.0

* TBD

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.36.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* [feature] TBD Adds SparseMatrixGain as a primitive system ([#22314][_#22314])  # In service of #20971 (to support using a sparse actuation matrix in controllers). This is a follow-up to a previous failed attempt in of LinearSystem.
* [breaking change] TBD Remove LinearModelPredictiveControl ([#22306][_#22306])  # Resolves #13248
* [breaking change] TBD [systems,manipulation] Fixes up InverseDynamicsController to use the actuation matrix ([#22315][_#22315])  # Clarifies that the control output of the inverse dynamics controller is actuation, not generalized forces, and uses the actuation matrix to achieve this. Previously, by connecting the output of the InverseDynamicsController system to an actuation input port of the MultibodyPlant, we implicitly assumed that the actuator matrix was the identity matrix. If the actuators were in a different order than the joints (generalized forces), then our method produced the wrong actuator inputs. The generalized_force output port is still available, partly for backwards compatibility, and because it's possible that there are applications that prefer this. This is a rewrite of PR #20971.
* [newly deprecated fix] TBD Fixup JointStiffnessController to output actuation instead of generalized_force ([#22329][_#22329])  # Follows #22315, which implemented the same fix for InverseDynamicsController. Previously there was a tacit assumption that the actuators were declared in the same order as the joints. This PR resolves that, and (to make this clear) renames the output port from `generalized_force` to `actuation`.
* [breaking change] TBD [systems] Remove global destructors in initial_value_program ([#22358][_#22358])  # Scalar-typed variables cannot be globals, since they have non-trivial destructors. This is a (probably un-noticable) breaking change to the data type of a constant.
* [removal of deprecated] TBD [systems,multibody,geometry,manipulation] Remove deprecated code 2025-01 ([#22368][_#22368])
* [feature] TBD [systems] LuenbergerObserver and KalmanFilter use shared_ptr ([#22351][_#22351])  # The LuenbergerObserver and KalmanFilter now take the observed system as a shared_ptr-to-const, not unique_ptr-to-mutable. The functions don't need to mutate anything and don't need exclusive ownership, and passing by unique_ptr causes trouble in our pydrake bindings. Overload SteadyStateKalmanFilter to accept the context by-const-ref instead of the unnecessary by-mutable-unique_ptr.
* [feature] TBD [systems] Add DiagramBuilder overloads for shared_ptr ([#22347][_#22347])  # AddSystem and AddNamedSystem functions are overloaded to allow passing the system via mutable shared_ptr (in addition to mutable unique_ptr). Architecturally, the diagram still maintains exclusive ownership of its children: each child still has a back-pointer to the Diagram (via the SystemParentServiceInterface) so it's not possible to actually "share" a subsystem across multiple diagrams. However, unique_ptr is overly restrictive: it not only denotes exclusive ownership (which is fine), but also demands that resource cleanup is `delete MyClass` (which is insufficient for our Python bindings). We must use a smart pointer type that allows customizing cleanup. We could imagine using unique_ptr whose Deleter was a std::function, but it's simpler to just use shared_ptr. Relatedly, we also adjust the Diagram subclasses PidControlledSystem and RgbdSensorDiscrete to accept the more general shared_ptr (instead of unique_ptr) for their child systems and to use ref_cycle for their pydrake bindings.

New features

* TBD

Fixes

* TBD

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* [newly deprecated feature] TBD [solvers,planning] [solvers] SolverOptions is serializable ([#22078][_#22078])  # Newly deprecated: - drake::solvers::MathematicalProgram::GetSolverOptionsDouble - drake::solvers::MathematicalProgram::GetSolverOptionsInt - drake::solvers::MathematicalProgram::GetSolverOptionsStr - drake::solvers::SolverOptions::CheckOptionKeysForSolver - drake::solvers::SolverOptions::GetOptions - drake::solvers::SolverOptions::GetOptionsDouble - drake::solvers::SolverOptions::GetOptionsInt - drake::solvers::SolverOptions::GetOptionsStr - drake::solvers::SolverOptions::GetSolverIds - drake::solvers::SolverOptions::common_solver_options - drake::solvers::SolverOptions::get_max_threads - drake::solvers::SolverOptions::get_print_file_name - drake::solvers::SolverOptions::get_print_to_console - drake::solvers::SolverOptions::get_standalone_reproduction_file_name - drake::solvers::SolverOptions::operator<< - drake::solvers::to_string(const &SolverOptions)
* [newly deprecated fix] TBD [solvers,tools,workspace] [solvers] Ipopt uses SPRAL (not MUMPS) by default ([#22385][_#22385])  # User can temporarily revert to MUMPS by setting the Ipopt solver option "linear_solver" to "mumps", but that option is deprecated and will be removed on 2025-05-01. Please let us know if you find programs that SPRAL does not handle well.

New features

* TBD

Fixes

* TBD

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* [feature] TBD Adds a scene_graph() accessor to multibody::Parser ([#22317][_#22317])  # Currently the Parser uses GetMutableSceneGraphPreFinalize() to access the scene_graph, but per slack, this is not the long-term solution. Nevertheless, conceptually the Parser _does_ have access to the scene_graph (unless no scene_graph is registered) as well as the plant, so adding this API should be durable even the GetMutableSceneGraphPreFinalize() workflow goes away.
* [removal of deprecated fix] TBD [multibody,examples,workspace,systems] Make SAP the default discrete contact solver ([#21294][_#21294])  # This PR changes the default discrete solver from TAMSI to SAP, using the kLagged convex approximation of TAMSI's contact model. The update essentially resolves to making MultibodyPlantConfig::discrete_contact_approximation="lagged". Though this is not a breaking change, it will definitely cause different simulation results, even if more correct. This might not be noticeable in most cases, but users should at least be aware of this. There is not much of a difference in terms of model files for those users previously using kTamsi, since kSimilar simply is a convex approximation of the same TAMSI's models. For those users that have been using kSap, the model of dissipation changes from a linear Kelvin-Voigt model controlled by relaxation_time to Hunt & Crossley, controlled by hunt_crossley_dissipation. Re the "release notes: removal of deprecated" label. MbP::set_discrete_contact_solver() is removed. Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* [feature] TBD Implements AddMultibodyPlantConstraints() ([#22327][_#22327])  # This method creates a mapping from the constraints used in MultibodyPlant/SAP to the constraints used in MathematicalProgram. Towards #18917.
* [feature] TBD AddUnitQuaternionConstraintOnPlant also adds quat âˆˆ [-1,1] ([#22373][_#22373])
* [fix] TBD Fix "more than one orientation" error in mujoco parser ([#22387][_#22387])  # Towards #20444.
* [fix] TBD Mujoco parser: improve error message for "size from mesh" ([#22389][_#22389])  # Towards #20444.
* [newly deprecated] TBD [multibody] Deprecate subclassing of MultibodyPlant ([#22397][_#22397])

New features

* TBD

Fixes

* TBD

## Planning

<!-- <relnotes for planning go here> -->


New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* [feature] TBD [trajectories] Add PiecewiseConstantCurvatureTrajectory ([#22214][_#22214])  # Adding a trajectory type modeling concatenation of linear segments and circular arcs within a plane, to be used in curvilinear joints (#22196). Co-Authored-By: Mathew Halm <mshalm@amazon.com> Co-Authored-By: amcastro-tri <alejandro.castro@tri.global>
* [feature] TBD Yaml serialization includes std::filesystem::path and FileSource ([#22288][_#22288])  # Serializable structs can now have members that are either std::filesystem::path (or pathlib.Path) or drake::FileSource. The FileSource support is limited. FileSource is a variant containing either a std::filesystem::path or MemoryFile. If it contains a path (its default configuration), serialization is fine. If it contains a MemoryFile it throws. The throwing behavior will be updated later when we've decided what we're going to do about bytestrings and the !!binary yaml tag.
* [newly deprecated] TBD [trajectories] Deprecate overriding public virtual functions ([#22395][_#22395])  # Subclasses must switch to using NVI overrides, instead. In most cases where subclass functions moved from public to private we also relocate the code in the cc file to stay in sync with header file order. However, the piecewise_polynomial.cc file is so disorganized that we declare bankruptcy and don't move anything around in there.
* [feature] TBD [common,workspace] Drake yaml application logic handles !!binary tag ([#22318][_#22318])  # Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* [fix] TBD [pydrake] Fix diagram memory leaks ([#22221][_#22221])
* [fix] TBD Re-apply fixed "[pydrake] Fix diagram memory leaks" ([#22343][_#22343])  # This re-applies 0bbde17e (by reverting the revert 7b5bb38f). Adjust the original commit by disabling one test under kcov. Somehow kcov spoils reference counting checks for pybind11 objects only.
* [feature] TBD [multibody] Add binding for MultibodyPlant::GetActuationFromArray() ([#22356][_#22356])
* [fix] TBD [pydrake] Fix yaml_dump_typed for Union on str ([#22394][_#22394])

New features

* TBD

Fixes

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* [fix] TBD [tools,workspace,third_party,examples] [build] Disable autoloaded (built-in) bazel rules ([#22305][_#22305])  # The release-notable changes here are the addition of rules_java and rules_shell as new dependencies and the bump of the minimum supported bazel version up to 7.4. As part of uniform loading of rules we also refactor to provide a single point of control for shell and java, like we had previously done for cc and python and tidy up some missing pieces.
* [feature] TBD [doc] Offically support macOS Sequoia ([#22324][_#22324])
* [fix] TBD [tools,workspace,solvers] [workspace] Build IPOPT from source on macOS ([#22331][_#22331])  # One consequence is that MUMPS is no longer available as one of IPOPT's linear solvers on macOS (because homebrew refuses to accept our pull requests to package MUMPS standalone, after 9 months of us trying). The only linear solver is SPRAL. Remove now-irrelevant ipopt_internal_pkgconfig and therefore rename ipopt_internal_fromsource to just plain ipopt_internal. Remove now-irrelevant IPOPT code from the wheel build. Relatedly, remove TODOs in CLP considering adding support for MUMPS, both because we can't use it on macOS and also because we've recently learned that MUMPS has global variables (is not threadsafe). Deprecate the `@ipopt` repository alias.
* [newly deprecated] TBD [tools,workspace,cmake] [tools] Modernize Bazel spelling for selecting compiler flags ([#22335][_#22335])  # Deprecate the 'cc' external. Keeping this repository rule intact with bzlmod is certainly possible, but is somewhat of a hassle. Better to use what rules_cc already offers for compiler selection. The command line option --define=DRAKE_WERROR=ON no longer has any effect. (That flag was intended to be internal use only so hopefully nobody will care. It's replacement is now explicitly documented to be internal use only.) Remove some vestigial cc_toolchain diagnostic programs. Also fix some warning Noble GCC spam from FCL, noticed while debugging.
* [fix] TBD [setup] Upgrade Python venv (mac) to latest ([#22381][_#22381])
* [fix] TBD [tools,workspace] [wheel] Remove vendored libcrypt ([#22392][_#22392])  # This library was being pushed on us by python3-config because CPython guaranteed its availability prior to 3.13 (deprecated in 3.11). However, Drake has never actually needed it; therefore, excise it from the list of linked libraries so that we can stop vendoring it.
* TBD

## Build dependencies

<!-- <relnotes for workspace go here> -->

* [fix] TBD [workspace] Upgrade crate_universe to latest ([#22310][_#22310])  # The unicode license override is no longer required.
* [fix] TBD [workspace,tools] [workspace] Upgrade rules_rust to latest release 0.56.0 ([#22319][_#22319])
* [fix] TBD [workspace] Upgrade drake_models to latest commit ([#22321][_#22321])
* [newly deprecated] TBD [workspace,planning,geometry,solvers,perception,systems] [workspace] Deprecate cru,vgt externals ([#22334][_#22334])  # Deprecate the common_robotics_utilities external. Deprecate the voxelized_geometry_tools external. We no longer support Stable API access to these externals; they are now internal use only. (Ideally we should have done this soon after we switched them to use a Drake-vendored C++ namespace, but oh well.)
* [fix] TBD [workspace] Upgrade curl_internal to latest release 8.11.1 ([#22376][_#22376])  # Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* [fix] TBD [workspace] Upgrade ipopt_internal to latest release 3.14.17 ([#22388][_#22388])  # Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* [fix] TBD [workspace,geometry] [workspace] Upgrade vtk_internal to latest commit ([#22384][_#22384])  # Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* [fix] TBD [workspace] Upgrade dm_control_internal to latest release 1.0.26 ([#22375][_#22375])
* [fix] TBD [workspace] Upgrade tinygltf_internal to latest release v2.9.4 ([#22375][_#22375])
* [fix] TBD [workspace] Upgrade crate_universe to latest ([#22375][_#22375])
* [fix] TBD [workspace] Upgrade mypy_internal to latest release v1.14.1 ([#22375][_#22375])
* [fix] TBD [workspace] Upgrade abseil_cpp_internal to latest commit ([#22375][_#22375])
* TBD

## Newly-deprecated APIs

* TBD

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.37.0) named
``drake-1.37.0-{jammy|noble|mac-arm64}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#21294]: https://github.com/RobotLocomotion/drake/pull/21294
[_#22078]: https://github.com/RobotLocomotion/drake/pull/22078
[_#22214]: https://github.com/RobotLocomotion/drake/pull/22214
[_#22221]: https://github.com/RobotLocomotion/drake/pull/22221
[_#22288]: https://github.com/RobotLocomotion/drake/pull/22288
[_#22305]: https://github.com/RobotLocomotion/drake/pull/22305
[_#22306]: https://github.com/RobotLocomotion/drake/pull/22306
[_#22310]: https://github.com/RobotLocomotion/drake/pull/22310
[_#22314]: https://github.com/RobotLocomotion/drake/pull/22314
[_#22315]: https://github.com/RobotLocomotion/drake/pull/22315
[_#22317]: https://github.com/RobotLocomotion/drake/pull/22317
[_#22318]: https://github.com/RobotLocomotion/drake/pull/22318
[_#22319]: https://github.com/RobotLocomotion/drake/pull/22319
[_#22321]: https://github.com/RobotLocomotion/drake/pull/22321
[_#22324]: https://github.com/RobotLocomotion/drake/pull/22324
[_#22327]: https://github.com/RobotLocomotion/drake/pull/22327
[_#22329]: https://github.com/RobotLocomotion/drake/pull/22329
[_#22331]: https://github.com/RobotLocomotion/drake/pull/22331
[_#22334]: https://github.com/RobotLocomotion/drake/pull/22334
[_#22335]: https://github.com/RobotLocomotion/drake/pull/22335
[_#22343]: https://github.com/RobotLocomotion/drake/pull/22343
[_#22347]: https://github.com/RobotLocomotion/drake/pull/22347
[_#22351]: https://github.com/RobotLocomotion/drake/pull/22351
[_#22356]: https://github.com/RobotLocomotion/drake/pull/22356
[_#22358]: https://github.com/RobotLocomotion/drake/pull/22358
[_#22368]: https://github.com/RobotLocomotion/drake/pull/22368
[_#22373]: https://github.com/RobotLocomotion/drake/pull/22373
[_#22375]: https://github.com/RobotLocomotion/drake/pull/22375
[_#22376]: https://github.com/RobotLocomotion/drake/pull/22376
[_#22381]: https://github.com/RobotLocomotion/drake/pull/22381
[_#22384]: https://github.com/RobotLocomotion/drake/pull/22384
[_#22385]: https://github.com/RobotLocomotion/drake/pull/22385
[_#22387]: https://github.com/RobotLocomotion/drake/pull/22387
[_#22388]: https://github.com/RobotLocomotion/drake/pull/22388
[_#22389]: https://github.com/RobotLocomotion/drake/pull/22389
[_#22392]: https://github.com/RobotLocomotion/drake/pull/22392
[_#22394]: https://github.com/RobotLocomotion/drake/pull/22394
[_#22395]: https://github.com/RobotLocomotion/drake/pull/22395
[_#22397]: https://github.com/RobotLocomotion/drake/pull/22397
<!-- <end issue links> -->

<!--
  Current oldest_commit b95c19c62d2eab2c2a6a3e37d11788e696b2111f (exclusive).
  Current newest_commit 355ba2881985a457f2500d96afffbb96b54a351e (inclusive).
-->
