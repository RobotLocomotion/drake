---
title: Drake v1.37.0
date: 2099-12-31
released: YYYY-MM-DD
---

# Announcements

* Drake now offically supports macOS 15 Sequoia ([#22324][_#22324])
* On macOS, Ipopt is now compiled from source instead of using Homebrew ([#22331][_#22331])
  * One consequence is that MUMPS is no longer available as one of IPOPT's
    linear solvers. The only available linear solver is SPRAL.
* YAML load/save can now handle bytes and paths ([#22288][_#22288], [#22318][_#22318]).

# Breaking changes since v1.36.0

* `InitialValueProgram` changed the data type of some static constants ([#22358][_#22358])
* TBD

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.36.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* [feature] TBD Adds SparseMatrixGain as a primitive system ([#22314][_#22314])  # In service of #20971 (to support using a sparse actuation matrix in controllers). This is a follow-up to a previous failed attempt in of LinearSystem.
* [breaking change] TBD Remove LinearModelPredictiveControl ([#22306][_#22306])  # Resolves #13248
* [breaking change] TBD [systems,manipulation] Fixes up InverseDynamicsController to use the actuation matrix ([#22315][_#22315])  # Clarifies that the control output of the inverse dynamics controller is actuation, not generalized forces, and uses the actuation matrix to achieve this. Previously, by connecting the output of the InverseDynamicsController system to an actuation input port of the MultibodyPlant, we implicitly assumed that the actuator matrix was the identity matrix. If the actuators were in a different order than the joints (generalized forces), then our method produced the wrong actuator inputs. The generalized_force output port is still available, partly for backwards compatibility, and because it's possible that there are applications that prefer this. This is a rewrite of PR #20971.
* [fix] TBD Fixup JointStiffnessController to output actuation instead of generalized_force ([#22329][_#22329])  # Follows #22315, which implemented the same fix for InverseDynamicsController. Previously there was a tacit assumption that the actuators were declared in the same order as the joints. This PR resolves that, and (to make this clear) renames the output port from `generalized_force` to `actuation`.

New features

* Add DiagramBuilder overloads for shared_ptr ([#22347][_#22347])
* Add LuenbergerObserver and KalmanFilter support for shared_ptr ([#22351][_#22351])
* Add PidControlledSystem and RgbdSensorDiscrete support for shared_ptr ([#22347][_#22347])
* Add SteadyStateKalmanFilter overload to accept the context by-const-ref ([#22351][_#22351])

Fixes

* TBD

## Mathematical Program

<!-- <relnotes for solvers go here> -->

New features

* SolverOptions is serializable to/from YAML ([#22078][_#22078])

Fixes

* IpoptSolver by default now uses SPRAL (not MUMPS) ([#22385][_#22385])

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* [fix] TBD [mujoco parser] Fix debug throw from RotationalInertia ([#22401][_#22401])  # The InertiaCalculator is not supposed to throw, but could still throw in debug mode based on how it was constructing an intermediate RotationalInertia. Now we skip the intermediate check and properly catch the error to display a helpful message in the parser. Towards #20444.
* [fix] TBD [multibody,examples,workspace,systems] Make SAP the default discrete contact solver ([#21294][_#21294])  # This PR changes the default discrete solver from TAMSI to SAP, using the kLagged convex approximation of TAMSI's contact model. The update essentially resolves to making MultibodyPlantConfig::discrete_contact_approximation="lagged". Though this is not a breaking change, it will definitely cause different simulation results, even if more correct. This might not be noticeable in most cases, but users should at least be aware of this. There is not much of a difference in terms of model files for those users previously using kTamsi, since kSimilar simply is a convex approximation of the same TAMSI's models. For those users that have been using kSap, the model of dissipation changes from a linear Kelvin-Voigt model controlled by relaxation_time to Hunt & Crossley, controlled by hunt_crossley_dissipation.
* [feature] TBD Implements AddMultibodyPlantConstraints() ([#22327][_#22327])  # This method creates a mapping from the constraints used in MultibodyPlant/SAP to the constraints used in MathematicalProgram. Towards #18917.
* [feature] TBD AddUnitQuaternionConstraintOnPlant also adds quat âˆˆ [-1,1] ([#22373][_#22373])
* [fix] TBD Fix "more than one orientation" error in mujoco parser ([#22387][_#22387])  # Towards #20444.
* [fix] TBD Mujoco parser: improve error message for "size from mesh" ([#22389][_#22389])  # Towards #20444.

New features

* Add a Parser::scene_graph() accessor ([#22317][_#22317])

Fixes

* TBD

## Planning

<!-- <relnotes for planning go here> -->


New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* [newly deprecated] TBD [py yaml] Deprecate certain implicit primitive conversions ([#22410][_#22410])  # Newly deprecated: - writing a bool in a document and loading it into an int; - writing a bool in a document and loading it into a float; - writing a bool in a document and loading it into a string; - writing an int in a document and loading it into a bool; - writing an int in a document and loading it into a string; - writing a float in a document and loading it into a bool; - writing a non-integral float in a document and loading it into an int; - writing a float in a document and loading it into a string; - writing a string in a document and loading it into a bool.
* Improvements to YAML serialization:
  * Add support for `std::filesystem::path` and `pathlib.Path` ([#22288][_#22288])
  * Add support for `drake::FileSource` ([#22288][_#22288])
  * Add support for YAML's `!!binary` tag ([#22318][_#22318])
    * In C++ the type is `std::vector<std::byte>`.
    * In Python the type is `bytes`.
  * Fix Python `yaml_dump_typed` for Union on str ([#22394][_#22394])
* Add PiecewiseConstantCurvatureTrajectory ([#22214][_#22214])

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* [fix] TBD [pydrake] Fix diagram memory leaks ([#22221][_#22221], [#22343][_#22343])
* [feature] TBD [multibody] Add binding for MultibodyPlant::GetActuationFromArray() ([#22356][_#22356])

New features

* TBD

Fixes

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* Offically support macOS 15 Sequoia ([#22324][_#22324])
* The command line option `--define=DRAKE_WERROR=ON` no longer has any effect ([#22335][_#22335])

## Build dependencies

<!-- <relnotes for workspace go here> -->

* Require Bazel >= 7.4 ([#22305][_#22305])
* Add `rules_java` external ([#22305][_#22305])
* Add `rules_shell` external ([#22305][_#22305])
* Use `ipopt_internal` on macOS (previously was Ubuntu-only) ([#22331][_#22331])
* Upgrade `abseil_cpp_internal` to latest commit ([#22375][_#22375])
* Upgrade `crate_universe` to latest ([#22310][_#22310])
* Upgrade `crate_universe` to latest ([#22375][_#22375])
* Upgrade `curl_internal` to latest release 8.11.1 ([#22376][_#22376])
* Upgrade `dm_control_internal` to latest release 1.0.26 ([#22375][_#22375])
* Upgrade `drake_models` to latest commit ([#22321][_#22321])
* Upgrade `ipopt_internal` to latest release 3.14.17 ([#22388][_#22388])
* Upgrade `mypy_internal` to latest release 1.14.1 ([#22375][_#22375])
* Upgrade `rules_rust` to latest release 0.56.0 ([#22319][_#22319])
* Upgrade `tinygltf_internal` to latest release 2.9.4 ([#22375][_#22375])
* Upgrade `vtk_internal` to latest commit ([#22384][_#22384])
* Remove vendored `libcrypt` from wheel builds ([#22392][_#22392])
* (macOS only) Upgrade Python venv lockfile to latest versions ([#22381][_#22381])

## Newly-deprecated APIs

* Subclassing `drake::multibody::MultibodyPlant` ([#22397][_#22397])
* Setting the `drake::solvers::IpoptSolver` solver option named `linear_solver` to the value `mumps` ([#22385][_#22385])
* `drake::solvers::MathematicalProgram::GetSolverOptionsDouble()` ([#22078][_#22078])
* `drake::solvers::MathematicalProgram::GetSolverOptionsInt()` ([#22078][_#22078])
* `drake::solvers::MathematicalProgram::GetSolverOptionsStr()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::CheckOptionKeysForSolver()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::GetOptionsDouble()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::GetOptionsInt()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::GetOptionsStr()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::GetOptions()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::GetSolverIds()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::common_solver_options()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::get_max_threads()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::get_print_file_name()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::get_print_to_console()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::get_standalone_reproduction_file_name()` ([#22078][_#22078])
* `drake::solvers::SolverOptions::operator<<()` ([#22078][_#22078])
* `drake::solvers::to_string(const &SolverOptions)` ([#22078][_#22078])
* `drake::systems::controllers::JointStiffnessController::get_output_port_generalized_force()` ([#22329][_#22329])
* `drake::systems::controllers::JointStiffnessController` output port named `generalized_force` ([#22329][_#22329])
* `drake::trajectories::Trajectory` virtual interface for subclasses ([#22395][_#22395])
  * Subclasses are no longer allowed to override public virtual methods. They
    must now override the NVI ("non-virtual interface") protected methods, e.g.,
    `do_cols()` instead of `cols()`.
* The `@cc` external ([#22335][_#22335])
* The `@common_robotics_utilities` external ([#22334][_#22334])
* The `@ipopt` external ([#22331][_#22331])
* The `@voxelized_geometry_tools` external ([#22334][_#22334])

## Removal of deprecated items

* `//manipulation/util:meshlab_to_sdf` ([#22368][_#22368])
* `//manipulation/util:show_model` ([#22368][_#22368])
* `drake::geometry::ReadObjToTriangleSurfaceMesh` overload that takes a `std::istream` ([#21914][_#21914], [#22368][_#22368])
* `drake::multibody::FrameBase` ([#21891][_#21891], [#22368][_#22368])
* `drake::multibody::MultibodyPlant::set_discrete_contact_solver()` ([#20672][_#20672], [#21294][_#21294])
* `drake::systems::sensors::RgbdSensor::X_BC` ([#21937][_#21937], [#22368][_#22368])
* `drake::systems::sensors::RgbdSensor::X_BD` ([#21937][_#21937], [#22368][_#22368])
* `drake::systems::sensors::RgbdSensor::X_PB` ([#21937][_#21937], [#22368][_#22368])
* `drake::systems::sensors::RgbdSensor::color_render_camera` ([#21937][_#21937], [#22368][_#22368])
* `drake::systems::sensors::RgbdSensor::depth_camera_info` ([#21937][_#21937], [#22368][_#22368])
* `drake::systems::sensors::RgbdSensor::depth_render_camera` ([#21937][_#21937], [#22368][_#22368])
* `drake::systems::sensors::RgbdSensor::parent_frame_id` ([#21937][_#21937], [#22368][_#22368])

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.37.0) named
``drake-1.37.0-{jammy|noble|mac-arm64}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#20672]: https://github.com/RobotLocomotion/drake/pull/20672
[_#21294]: https://github.com/RobotLocomotion/drake/pull/21294
[_#21891]: https://github.com/RobotLocomotion/drake/pull/21891
[_#21914]: https://github.com/RobotLocomotion/drake/pull/21914
[_#21937]: https://github.com/RobotLocomotion/drake/pull/21937
[_#22078]: https://github.com/RobotLocomotion/drake/pull/22078
[_#22214]: https://github.com/RobotLocomotion/drake/pull/22214
[_#22221]: https://github.com/RobotLocomotion/drake/pull/22221
[_#22288]: https://github.com/RobotLocomotion/drake/pull/22288
[_#22305]: https://github.com/RobotLocomotion/drake/pull/22305
[_#22306]: https://github.com/RobotLocomotion/drake/pull/22306
[_#22310]: https://github.com/RobotLocomotion/drake/pull/22310
[_#22314]: https://github.com/RobotLocomotion/drake/pull/22314
[_#22315]: https://github.com/RobotLocomotion/drake/pull/22315
[_#22317]: https://github.com/RobotLocomotion/drake/pull/22317
[_#22318]: https://github.com/RobotLocomotion/drake/pull/22318
[_#22319]: https://github.com/RobotLocomotion/drake/pull/22319
[_#22321]: https://github.com/RobotLocomotion/drake/pull/22321
[_#22324]: https://github.com/RobotLocomotion/drake/pull/22324
[_#22327]: https://github.com/RobotLocomotion/drake/pull/22327
[_#22329]: https://github.com/RobotLocomotion/drake/pull/22329
[_#22331]: https://github.com/RobotLocomotion/drake/pull/22331
[_#22334]: https://github.com/RobotLocomotion/drake/pull/22334
[_#22335]: https://github.com/RobotLocomotion/drake/pull/22335
[_#22343]: https://github.com/RobotLocomotion/drake/pull/22343
[_#22347]: https://github.com/RobotLocomotion/drake/pull/22347
[_#22351]: https://github.com/RobotLocomotion/drake/pull/22351
[_#22356]: https://github.com/RobotLocomotion/drake/pull/22356
[_#22358]: https://github.com/RobotLocomotion/drake/pull/22358
[_#22368]: https://github.com/RobotLocomotion/drake/pull/22368
[_#22373]: https://github.com/RobotLocomotion/drake/pull/22373
[_#22375]: https://github.com/RobotLocomotion/drake/pull/22375
[_#22376]: https://github.com/RobotLocomotion/drake/pull/22376
[_#22381]: https://github.com/RobotLocomotion/drake/pull/22381
[_#22384]: https://github.com/RobotLocomotion/drake/pull/22384
[_#22385]: https://github.com/RobotLocomotion/drake/pull/22385
[_#22387]: https://github.com/RobotLocomotion/drake/pull/22387
[_#22388]: https://github.com/RobotLocomotion/drake/pull/22388
[_#22389]: https://github.com/RobotLocomotion/drake/pull/22389
[_#22392]: https://github.com/RobotLocomotion/drake/pull/22392
[_#22394]: https://github.com/RobotLocomotion/drake/pull/22394
[_#22395]: https://github.com/RobotLocomotion/drake/pull/22395
[_#22397]: https://github.com/RobotLocomotion/drake/pull/22397
[_#22401]: https://github.com/RobotLocomotion/drake/pull/22401
[_#22410]: https://github.com/RobotLocomotion/drake/pull/22410
<!-- <end issue links> -->

<!--
  Current oldest_commit b95c19c62d2eab2c2a6a3e37d11788e696b2111f (exclusive).
  Current newest_commit 6a7293d017f882ba0a157072fe90433d50e8702b (inclusive).
-->
