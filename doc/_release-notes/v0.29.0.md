---
title: Drake v0.29.0
---

# Announcements

* TBD

# Breaking changes since v0.28.0

* TBD

# Changes since v0.28.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

New features

* DirectTranscription now supports continuous-time MultibodyPlant ([#14840][_#14840], [#14854][_#14854], [#14859][_#14859])

Fixes

* Improve diagram building performance when computing subsystem feedthrough maps ([#14788][_#14788])

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* TBD Add documentation on polynomial type ([#14790][_#14790])
* TBD Fix a bug in SNOPT constant cost term ([#14809][_#14809])
* TBD Add ClpSolver ([#14776][_#14776])  # * Add CLP solver
* TBD [solvers,systems] Remove deprecated code 2021-04 ([#14846][_#14846])  # This commit only performs the trivial removals.  The more complicated removals will land in their own, separate commits.
* TBD Retrieve dual solution from CLP solver ([#14820][_#14820])

New features

* TBD

Fixes

* TBD

## Multibody Dynamics

<!-- <relnotes for geometry,multibody go here> -->

* TBD [geometry] Move elements of distance_to_shape.h into .cc ([#14772][_#14772])  # * Move elements of distance_to_shape.h into .cc The distance-to-shape callback was entirely defined in the header file. This moves as much as possible into the .cc file. The ComputeNarrowPhaseDistance method is still defined in the header file to faciltiate the logic for when it invokes the fallback. The test specializes the fallback function on a unique scalar (float). The float implementation signals invocation. Then we call the otherwise undefined CompupteNarrowPhaseDistance<float> and watch when the special implementation gets triggered. A note has been added to a test to find an alternate formulation of this test to detect when the fallback is invoked.
* TBD [geometry] Introduce initial framework for characterizing distance queries ([#14775][_#14775])  # * Introduce initial framework for characterizing distance queries This introduces the CharacterizeResultTest (and supporting classes). Its purpose is to provide a common framework through which queries that report signed-distance-related values (e.g., point penetration and signed distance) can be evaluated to determine how good the support is across geometry pairs and scalar types. This also includes the *initial* unit test exercising the framework for the penetration_as_point_pair::Callback. It only evaluates sphere-sphere contact for T = {double, AutoDiffXd} as a small example of the framework. Supporting classes (and functions) in characterization_utilities.{h,cc}: - DistanceCallback - a polymorphic class that each Callback test will implement to interface with the framework. - Expectation - declaration of what we expect the outcome of the query will be. - Configuration - a specific configuration between two shapes with the known signed distance value between them. - to_string() for fcl::NODE_TYPE (to improve error messages). - MakeFclShape - a reifier that turns drake::geometry::Shape types into the corresponding fcl type. What follows in subsequent PRs: - expand the framework to automatically build configurations in a compact, consistent form. - complete the tests on penetration_as_point_pair::Callback for all other relevant shape-pairs. - Modification of documentation in query_object.h reporting the results found in test. - Extension of framework to evaluate distance_to_shape::Callback in the same manner.
* TBD Remove unused distance_to_point_with_gradient ([#14793][_#14793])  # This includes the deprecation of the struct SignedDistanceToPointWithGradient. It's worth noting that the internal code is only exercised in its own unit test and that the deprecated struct is not part of any public API (either produced or consumed).
* TBD [multibody,tutorials] multibody: Rename parameters of WeldJoint() and WeldFrames() ([#14805][_#14805])  # Closes #14641. The parameter names were variously confusing (WeldFrames, see #14641) and/or inconsistent with other joints (WeldJoint constructor). This patch moves both entry points to use naming more consistent with other joint APIs and deprecates the old parameter names in python bindings.
* TBD [geometry] Push `distance_to_shape_callback` implementation into .cc ([#14794][_#14794])  # Historically, the limiting factor for pushing more of the code into the .cc file was the logic for determining if calling the fallback was required. That logic was buried in ComputeNarrowPhaseDistance. Testing that logic required extraordinary contortions and required the templated code to be fully available. The simple solution was to move the classification logic (fallback required or not) into its own stand-alone function and test that explicitly. Based on this change: - The unit test is updated vis a vis fallback classificaiton. - The state of supported/unsupported geometries has been brought up to reflect the current state of the code (e.g., capsules, half spaces.)
* TBD [geometry] Extend characterization framework, apply to point-pair penetration (2 of 4) ([#14795][_#14795])  # This does the following: 1. Introduces shapes Capsule and Ellipsoid into the analysis. - penetration_as_point_pair_characterize_test now evaluates (capsule, capsule), (capsule, ellipsoid), (capsule, sphere), (ellipsoid, ellipsoid), (ellipsoid, sphere) and (sphere, sphere) 2. The increase in pairings calls for efficient configuration construction - We create configurations by: 1. Selecting a set of curated tangent planes to the various shapes. 2. We pose the shapes relative to each other by posing the planes relative to each other and then offsetting along the planes' shared normals. 3. Unit tests for the additional framework code. 4. Include generic testing infrastructure to test the various pairs in penetration_as_point_pair_characterize_test. Follow up PR will complete the framework and the penetration as point pair characterization.
* TBD [fix forward] Patch for mac difference in mac precision ([#14821][_#14821])
* TBD multibody: perturbs test to fix kcov failure ([#14825][_#14825])
* TBD Put GeometryPairContactWrenchEvaluatorBinding in the public namespace ([#14835][_#14835])
* TBD Finish characterization of point-pair penetration ([#14818][_#14818])  # This entails: - Extending the framework to include missing geometry types: box, cylinder, convex, half space, and mesh. Including tests for that infrastructure. - Finish instantiating all QueryInstances for the penetration as point pair characterize test. - Update QueryObject (all values are now in place, they can be used in the documentation). The next two PRs will do the same for distance to shape and distance to point. * Note the tolerances have been widenened in anticipation of the impact that using AVX to transform/rotation concatenation will have.
* TBD [proximity] Characterize shape-shape signed distance query ([#14856][_#14856])  # * Characterize shape-shape signed distance query This applies the framework defined in characterization_utilities.{h,cc} to the signed distance computation between shapes. Introduces the test and updates the documentation.
* TBD [proximity] Characterize point-shape signed distance query ([#14857][_#14857])  # * Characterize point-shape signed distance query Extend the framework defined in characterization_utilities.{h,cc} to accommodate shape-point signed distance: - introduce a "point" primitive - Introduce the concept of "symmetry" in the test -- for this test we always test "point-shape" and *never* "shape-point". Add the supporting test and update the documentation accordingly.
* TBD [geometry,systems,examples] Deprecation - All things geometry ([#14855][_#14855])  # While this deprecation effort contains the normal deletion of deprecated API and its tests, it comes with a number of special cases -- some transitionary code had to be injected during the deprecation period between the old and new APIs. The explicit examples are called out below: - RenderEngine - The old API and new API were entangled such that derived RenderEngine types could overload either API and invoking one would eventually invoke the other. That mechanism has been removed and the default implementation now simply throws "not implemented" exceptions. - SceneGraph - SceneGraph went from storing GeometryState as abstract state to as an abstract Parameter. During transition, one could request the old behavior. That facility is now removed as well as the infrastructure that enabled it. Implicit is the removal of *two* headers (but the contents of those headers had already been completely deprecated).
* TBD Add ability to convert GeometrySet into unordered_set<GeometryId> ([#14871][_#14871])  # The ability to convert also includes the ability to filter based on role. This includes the public-facing inspector API as well as the GeometryState implementation.
* TBD [geometry,tools] workspace: Upgrade tinyobjloader to latest commit ([#14866][_#14866])  # Correct unit test based on tinyobj impl changes
* TBD [geometry] Moving distance-to-point callback code into .cc file ([#14872][_#14872])  # This simply relocates existing code out of the header and into a .cc file. It makes sure that there are sufficient definitions of the "public" API on the supported numerical scalars. Otherwise, no functionality has changed.
* TBD [multibody,math] multibody: Adjust unit test to avoid scalar type violations ([#14862][_#14862])  # The RotationMatrix class only support Drake's default scalars. Instantiating RotationMatrix<AutoDiff1d> is an API violation.

New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD Add a tutorial on the debugging tips for MathematicalProgram ([#14815][_#14815])
* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception go here> -->

* TBD adds simplest case of integration for symbolic polynomial ([#14807][_#14807])
* TBD rotation_matrix: Minor fix for message on matrices that fail SO(3) check ([#14801][_#14801])  # The intent is to make the suggestion a bit more concrete. Done by: - Making it more evident that ToQuaternion is a static method of RotationMatrix - Using `<T>` more consistently - Using `your_matrix3` vs. `your_Matrix3`
* TBD mixed doxygen comment style was suppressing doxygen in symbolic_decompose.h ([#14861][_#14861])
* TBD lcmtypes: Remove deprecated messages 2021-04 ([#14842][_#14842])
* TBD Add template specialization of not_equal_strict for symbolic::Expression ([#14868][_#14868])  # This is needed for Eigen >= 3.4.0. not_equal_strict relies on an implicit conversion to bool. Since Expression has an explicit bool() operator, we need to specialize the call. As of Eigen 3.4.0, this function is called at least as part of triangular vector solve. not_equal_strict was only added in Eigen 3.3.5. Since the minimum version drake requires is 3.3.4, we have to conditionally compile.
* TBD Fix dare ([#14865][_#14865])  # Fix a bug in discrete algebraic Riccati equation (dare) that causes infinite loop. Co-authored-by: Weiqiao <weiqiaoh@mit.edu>
* TBD DecomposeLumpedParameters from VectorX<Expression> ([#14863][_#14863])  # First implementation of lumped parameter decomposition for full symbolic::Expressions. This updates (and will soon replace) our related implementation in solvers/system_identification.h .  That implementation used the old (to be expunged) Polynomial class, and required a manual step to substitute trig functions into polynomial functions.  This substitution is difficult in general, and is not compatible with MultibodyPlant.  Furthermore, there is no fundamental reason to restrict the lumped-parameter decomposition to polynomials. Follow-up work is tracked in #14879.
* TBD math: Move RotationMatrix functions to cc file ([#14860][_#14860])  # Inline functions are supposed to be short, but these functions are long. Change the argument type of ProjectMatToRotMatWithAxis to enforce the 3x3 size requirement, and so remove the checks and documentation of same.
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* TBD Revert "Revert "[pybind] Moves a historically flaky RenderEngine test into its own test (#14724)"" ([#14791][_#14791])
* TBD py mbp: Fix bindings for plant test ([#14813][_#14813])  # - Ensure we cover T for deprecated MultibodyPlant_[T].WeldFrames - Use unittest.subTest to trace back to joint factories
* TBD pydrake: Expose some testing utilities to drake_bazel_external workflows ([#14812][_#14812])
* TBD pydrake: Document RandomGenerator use with numpy ([#14102][_#14102])  # Resolves #12632
* TBD Allow python binding of SignalLogger to log autodiffxd data ([#14823][_#14823])  # py primitives: Add template free function for LogOutput numpy_compare: Add assert_allclose Co-authored-by: Eric Cousineau <eric.cousineau@tri.global>
* TBD default_scalars_pybind: Consolidate CopyIfNotPodType functions ([#14839][_#14839])  # Add doxygen group Switch docstrings from /// to use /** */ Fix minor typos in helper functions Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD bind all scalar types for wrap_to ([#14845][_#14845])
* TBD Update documentation missed during recent deprecation ([#14870][_#14870])  # PR 14855 deprecated a whole swathe of code related to the old RenderEngine API and CameraProperties vs RenderCamera. In that sweep, this documentation got missed. We simply remove reference to the deprecated API.

New features

* TBD

Fixes

* TBD

Newly bound

* TBD

## Build system and dependencies

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* TBD doc: Add release notes v0.28.0 ([#14762][_#14762])
* TBD [doc,tools] doc: Ensure website favicons render correctly on all platforms ([#14761][_#14761])
* TBD doc: Generate a minimal sitemap of HTML files ([#14778][_#14778])
* TBD Fix sitemap generation ([#14780][_#14780])
* TBD cmake: Fix python3 search for CMake 3.10 (Ubuntu 18.04) ([#14798][_#14798])
* TBD workspace: Upgrade styleguide latest commit ([#14797][_#14797])  # This is a non-functional change, because the upgrade only changes the style guide documentation -- it does not affect cpplint.  However, referencing the latest documentation is a prerequisite of the forthcoming change to preview and publish the styleguide documentation from Drake's build directly (not using GitHub pages).
* TBD doc: Relocate bindings/pydrake/doc to doc/pydrake ([#14806][_#14806])  # We want all of the website generation to live inside the doc folder.
* TBD [tools,doc] workspace: Deprecate the @sphinx repository ([#14804][_#14804])  # Our documentation tools are Ubuntu-only, so we don't need to ask Bazel to locate the correct binary -- we can just hard-code it.
* TBD [doc,tools] doc: Relocate Doxygen tools into doxygen_cxx subdirectory ([#14810][_#14810])  # We want the website's subdirectories to match the source tree's subdirectories. Also factor out a potential rule-of-three violation for build tag named constants. Also fix the Doxygen upstream website hyperlink to be correct. Also fix assertion typo in doc/build.py. Also remove a stray reference to Sphinx in the README.
* TBD [setup,tools] Use python3-semantic-version package on ubuntu and semantic-version on mac ([#14784][_#14784])
* TBD [doc,tools] doc: Add direct styleguide publication ([#14811][_#14811])
* TBD doc: Fix styleguide publication on Focal ([#14831][_#14831])  # Our config file asked for the "minima" theme, which does not exist on either Bionic nor Focal -- but on Focal a missing theme is a hard error, while on Bionic it seems to be silently ignored.
* TBD Add python-tk@3.9 to mac prerequisites ([#14832][_#14832])
* TBD doc: Refactor main Jekyll site builder to use common code ([#14833][_#14833])
* TBD workspace: Upgrade styleguide latest commit ([#14849][_#14849])  # This is a non-functional change, because the upgrade only changes the documentation.
* TBD workspace: Upgrade pycodestyle to latest release 2.7.0 ([#14850][_#14850])
* TBD workspace: Upgrade ghc_filesystem to latest release 1.5.4 ([#14851][_#14851])
* TBD workspace: Add ignition_utils 1.0.0 ([#14853][_#14853])  # This will be required by sdformat 11.0.0.
* TBD workspace: Upgrade ignition_math to latest release 6.8.0 ([#14848][_#14848])
* TBD [tools,setup] Add OpenCL support ([#14843][_#14843])  # * Update VGT to use vendored cl.hpp header * Enable OpenCL backend in VGT * Remove unnecessary configure = True OpenGL rule
* TBD install_test: Skip for kcov due to failure in drake visualizer ([#14869][_#14869])  # `./bin/drake-visualizer --help` from install tree returns a non-zero error code, for reasons presently unknown.
* TBD workspace: Upgrade rules_pkg to latest release 0.4.0 ([#14867][_#14867])
* TBD

## Newly-deprecated APIs

* TBD

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v0.27.0) named
``drake-YYYYMMDD-{bionic|focal|mac}.tar.gz``. See [Nightly Releases](/from_binary.html#nightly-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#14102]: https://github.com/RobotLocomotion/drake/pull/14102
[_#14127]: https://github.com/RobotLocomotion/drake/pull/14127
[_#14761]: https://github.com/RobotLocomotion/drake/pull/14761
[_#14762]: https://github.com/RobotLocomotion/drake/pull/14762
[_#14772]: https://github.com/RobotLocomotion/drake/pull/14772
[_#14775]: https://github.com/RobotLocomotion/drake/pull/14775
[_#14776]: https://github.com/RobotLocomotion/drake/pull/14776
[_#14778]: https://github.com/RobotLocomotion/drake/pull/14778
[_#14780]: https://github.com/RobotLocomotion/drake/pull/14780
[_#14784]: https://github.com/RobotLocomotion/drake/pull/14784
[_#14788]: https://github.com/RobotLocomotion/drake/pull/14788
[_#14790]: https://github.com/RobotLocomotion/drake/pull/14790
[_#14791]: https://github.com/RobotLocomotion/drake/pull/14791
[_#14793]: https://github.com/RobotLocomotion/drake/pull/14793
[_#14794]: https://github.com/RobotLocomotion/drake/pull/14794
[_#14795]: https://github.com/RobotLocomotion/drake/pull/14795
[_#14797]: https://github.com/RobotLocomotion/drake/pull/14797
[_#14798]: https://github.com/RobotLocomotion/drake/pull/14798
[_#14801]: https://github.com/RobotLocomotion/drake/pull/14801
[_#14804]: https://github.com/RobotLocomotion/drake/pull/14804
[_#14805]: https://github.com/RobotLocomotion/drake/pull/14805
[_#14806]: https://github.com/RobotLocomotion/drake/pull/14806
[_#14807]: https://github.com/RobotLocomotion/drake/pull/14807
[_#14809]: https://github.com/RobotLocomotion/drake/pull/14809
[_#14810]: https://github.com/RobotLocomotion/drake/pull/14810
[_#14811]: https://github.com/RobotLocomotion/drake/pull/14811
[_#14812]: https://github.com/RobotLocomotion/drake/pull/14812
[_#14813]: https://github.com/RobotLocomotion/drake/pull/14813
[_#14815]: https://github.com/RobotLocomotion/drake/pull/14815
[_#14818]: https://github.com/RobotLocomotion/drake/pull/14818
[_#14820]: https://github.com/RobotLocomotion/drake/pull/14820
[_#14821]: https://github.com/RobotLocomotion/drake/pull/14821
[_#14823]: https://github.com/RobotLocomotion/drake/pull/14823
[_#14825]: https://github.com/RobotLocomotion/drake/pull/14825
[_#14831]: https://github.com/RobotLocomotion/drake/pull/14831
[_#14832]: https://github.com/RobotLocomotion/drake/pull/14832
[_#14833]: https://github.com/RobotLocomotion/drake/pull/14833
[_#14835]: https://github.com/RobotLocomotion/drake/pull/14835
[_#14839]: https://github.com/RobotLocomotion/drake/pull/14839
[_#14840]: https://github.com/RobotLocomotion/drake/pull/14840
[_#14842]: https://github.com/RobotLocomotion/drake/pull/14842
[_#14843]: https://github.com/RobotLocomotion/drake/pull/14843
[_#14845]: https://github.com/RobotLocomotion/drake/pull/14845
[_#14846]: https://github.com/RobotLocomotion/drake/pull/14846
[_#14847]: https://github.com/RobotLocomotion/drake/pull/14847
[_#14848]: https://github.com/RobotLocomotion/drake/pull/14848
[_#14849]: https://github.com/RobotLocomotion/drake/pull/14849
[_#14850]: https://github.com/RobotLocomotion/drake/pull/14850
[_#14851]: https://github.com/RobotLocomotion/drake/pull/14851
[_#14853]: https://github.com/RobotLocomotion/drake/pull/14853
[_#14854]: https://github.com/RobotLocomotion/drake/pull/14854
[_#14855]: https://github.com/RobotLocomotion/drake/pull/14855
[_#14856]: https://github.com/RobotLocomotion/drake/pull/14856
[_#14857]: https://github.com/RobotLocomotion/drake/pull/14857
[_#14859]: https://github.com/RobotLocomotion/drake/pull/14859
[_#14860]: https://github.com/RobotLocomotion/drake/pull/14860
[_#14861]: https://github.com/RobotLocomotion/drake/pull/14861
[_#14862]: https://github.com/RobotLocomotion/drake/pull/14862
[_#14863]: https://github.com/RobotLocomotion/drake/pull/14863
[_#14865]: https://github.com/RobotLocomotion/drake/pull/14865
[_#14866]: https://github.com/RobotLocomotion/drake/pull/14866
[_#14867]: https://github.com/RobotLocomotion/drake/pull/14867
[_#14868]: https://github.com/RobotLocomotion/drake/pull/14868
[_#14869]: https://github.com/RobotLocomotion/drake/pull/14869
[_#14870]: https://github.com/RobotLocomotion/drake/pull/14870
[_#14871]: https://github.com/RobotLocomotion/drake/pull/14871
[_#14872]: https://github.com/RobotLocomotion/drake/pull/14872
<!-- <end issue links> -->

<!--
  Current oldest_commit 306baa8e0fd2a600c7d07c99f85ca1b940877603 (exclusive).
  Current newest_commit 3e026635016c51f6b624a0a6dc495bf3b92d7673 (inclusive).
-->
