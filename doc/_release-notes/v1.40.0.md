---
title: Drake v1.40.0
date: 2099-12-31
released: YYYY-MM-DD
---

# Announcements

* TBD

# Breaking changes since v1.39.0

* TBD

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.39.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* [removal of deprecated] TBD [systems,solvers,geometry,workspace] Remove deprecated code 2025-04 ([#22834][_#22834])
* [feature] TBD Support x'Nu term in discrete-time LQR ([#22686][_#22686])
* [fix] TBD Avoid rejecting system with floating abstract input port in FiniteHorizonLinearQuadraticRegulator ([#22762][_#22762])
* [feature] TBD Implement IntegratorBase<T>::Clone() ([#22773][_#22773])

New features

* TBD

Fixes

* TBD

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* [fix] TBD [solvers,planning] Set gradient sparsity pattern in KinTrajOpt AddVelocityConstraint ([#22763][_#22763])

New features

* TBD

Fixes

* TBD

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* [feature] TBD Update rendering to use non-uniform Convex/Mesh scale ([#22822][_#22822])  # Note: very little has to be done with the Convex as the scale is directly incorporated into the hull's polygonal mesh directly. Only the mesh requires particular effort. NOTE TO RELEASE ENGINEER: This is one of multiple PRs that enable non-uniform scaling (see also 22772).  For the release, they should all be lumped together. The total feature description is: Enable non-uniform scaling for Mesh and Convex geometries.
* [fix] TBD [multibody] Fix crash on frame elements not added to a plant ([#22821][_#22821])  # Co-authored-by: Paul Mitiguy <paul.mitiguy@tri.global>
* [fix] TBD [parsing] Fix parsing of erroneous curvilinear joint input ([#22840][_#22840])
* [fix] TBD [sap] Remove bogus assertion on Kp > 0 ([#22753][_#22753])
* [feature] TBD [geometry,multibody] Introduce 3D scale in mesh processing algorithms ([#22772][_#22772])  # This includes parsing mesh into Drake constructs and computing convex hulls. When parsing mesh files (e.g., obj, vtk, etc.) we explicitly handle the case where the scale includes mirroring which may cause the mesh windings to be wound incorrectly. This also attempts to unify the internal APIs with regards to what scale factors are accepted. We accept any scale factor -- even zero. Because these are internal, if some limit needs to be placed by some application, we rely on the application to enforce that constraint. NOTE TO RELEASE ENGINEER: This is one of multiple PRs that enable non-uniform scaling.  For the release, they should all be lumped together. The total feature description is: Enable non-uniform scaling for Mesh and Convex geometries.
* [feature] TBD [multibody] Adds MultibodyPlant::AddTendonConstraint() ([#22803][_#22803])
* [feature] TBD [meshcat] Add GetButtonNames() ([#22806][_#22806])
* [feature] TBD Extend Mesh/Convex to include non-uniform scale ([#22785][_#22785])  # Note: while this adds the APIs, the non-uniform scale is not used in most places. Configuring a non-uniform scale and then exercising those domains will throw an exception. Currently, the computation of convex hulls from non-uniform scale is the only supported operation. NOTE TO RELEASE ENGINEER: This is one of multiple PRs that enable non-uniform scaling (see also #22772).  For the release, they should all be lumped together. The total feature description is: Enable non-uniform scaling for Mesh and Convex geometries.

New features

* TBD

Fixes

* TBD

## Planning

<!-- <relnotes for planning go here> -->


New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* [fix] TBD [visualization] Fix divide-by-zero in ColorizeDepthImage ([#22765][_#22765])
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* [fix] TBD [pydrake] Fix a bug in the Simulator constructor ([#22781][_#22781])  # The prior implementation of the Simulator() binding yielded two possible lifetime regimes for the context: * internally allocated contexts were effectively C++ unique_ptr * passed-from-python contexts were Python ref-counted This patch causes both cases to yield Python-ref-counted contexts, and it adds documentation to warn against attempts to "share" contexts across Simulators.
* [fix] TBD [py sensors] ApplyCameraConfig overloaded on LcmInterfaceSystem ([#22811][_#22811])
* [fix] TBD [pydrake] Fix costs and constraints memory hazards ([#22795][_#22795])  # Augment entry points that handle costs and constraints via shared_ptr to maintain both the c++ object and its python wrapper. When the python wrapper was inadvertently lost, additional semantics (keep-alives, etc.) could be lost, leading to UB.
* [fix] TBD [pydrake] Avoid lifetime hazards with port references ([#22775][_#22775])  # Stop using keep_alive with returned port references; use ref_cycle instead. The most common place where this problem can arise is when writing leaf systems in Python. To support that use case, re-annotate port methods in the systems framework. It is not impossible to induce the hazard on any arbitrary system by stuffing port references into dynamic system attributes. This patch does not attempt to fix any such cases, but does provide some test helper code to make it easier to correct such cases if they are reported.

New features

* TBD

Fixes

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* [fix] TBD [tools,doc] [build] Publish linux wheels for Python 3.13 ([#22580][_#22580])
* [fix] TBD Fix CMake dependencies ([#22766][_#22766])  # Add an explicit dependency on the drake_version target to the drake_cxx_python target. Previously, the latter depended on the generated version script, but that isn't understood as an output of the drake_version target, which would sometimes lead to build errors due to the file not existing and the tool not knowing how to build it. (This is more likely to be a problem with build parallelism enabled, and especially was hitting Ninja builds.)
* [feature] TBD [tools,workspace] Build wheels on AlmaLinux instead of Ubuntu ([#22779][_#22779])  # Change wheel builds to use AlmaLinux instead of Ubuntu as the host platform. The motivating effect of this is to "downgrades" our required glibc version from 2.35 to 2.34. Note that AlmaLinux 9 is the base of manylinux_2_34_x86_64:2025.01.05-1. The reason we are not using manylinux is because a) it provides Python interpreters that do not have headers or libraries, and so are not useful for building Drake, and b) its compilers interfere with use of the underlying AlmaLinux compilers and attempts to use them result in obscure failures. Because packages derived from Fedora / Red Hat are missing what appears to be a required license notice, license information for redistributed libraries is instead copied from Debian's packages and manually added to the wheel. See also https://bugzilla.redhat.com/show_bug.cgi?id=2353932.
* TBD

## Build dependencies

<!-- <relnotes for workspace go here> -->

* [fix] TBD [pydrake] Retire no-op py::wrapper ([#22832][_#22832])  # Stop supplying, using, and recommending it.
* [fix] TBD [pybind11] Switch back to vanilla pybind11 ([#22738][_#22738])  # This patch drops the special dependency on the RobotLocomotion/pybind11 fork, and instead uses vanilla pybind11 with local patch files.
* [fix] TBD [workspace,geometry] [workspace] Upgrade vtk_internal to latest commit ([#22702][_#22702])
* TBD

## Newly-deprecated APIs

* TBD

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.40.0) named
``drake-1.40.0-{jammy|noble|mac-arm64}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#22580]: https://github.com/RobotLocomotion/drake/pull/22580
[_#22686]: https://github.com/RobotLocomotion/drake/pull/22686
[_#22702]: https://github.com/RobotLocomotion/drake/pull/22702
[_#22738]: https://github.com/RobotLocomotion/drake/pull/22738
[_#22753]: https://github.com/RobotLocomotion/drake/pull/22753
[_#22762]: https://github.com/RobotLocomotion/drake/pull/22762
[_#22763]: https://github.com/RobotLocomotion/drake/pull/22763
[_#22765]: https://github.com/RobotLocomotion/drake/pull/22765
[_#22766]: https://github.com/RobotLocomotion/drake/pull/22766
[_#22772]: https://github.com/RobotLocomotion/drake/pull/22772
[_#22773]: https://github.com/RobotLocomotion/drake/pull/22773
[_#22775]: https://github.com/RobotLocomotion/drake/pull/22775
[_#22779]: https://github.com/RobotLocomotion/drake/pull/22779
[_#22781]: https://github.com/RobotLocomotion/drake/pull/22781
[_#22785]: https://github.com/RobotLocomotion/drake/pull/22785
[_#22795]: https://github.com/RobotLocomotion/drake/pull/22795
[_#22803]: https://github.com/RobotLocomotion/drake/pull/22803
[_#22806]: https://github.com/RobotLocomotion/drake/pull/22806
[_#22811]: https://github.com/RobotLocomotion/drake/pull/22811
[_#22821]: https://github.com/RobotLocomotion/drake/pull/22821
[_#22822]: https://github.com/RobotLocomotion/drake/pull/22822
[_#22832]: https://github.com/RobotLocomotion/drake/pull/22832
[_#22834]: https://github.com/RobotLocomotion/drake/pull/22834
[_#22840]: https://github.com/RobotLocomotion/drake/pull/22840
<!-- <end issue links> -->

<!--
  Current oldest_commit 0596a5eb8717b677c573118bc5e2558c1f1f07ba (exclusive).
  Current newest_commit 8cf459c5bb86b5f0c6fc22735cfe8b55321d4af0 (inclusive).
-->
