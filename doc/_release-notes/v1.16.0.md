---
title: Drake v1.16.0
date: 2099-01-01
released: 2099-01-01
---

# Announcements

* TBD

# Breaking changes since v1.15.0

* Filter contact results for completely locked trees ([#19349][_#19349])
  * The members of `ContactResults` will no longer be in bijection with the geometry quantities (`PenetrationAsPointPair` and `ContactSurface`) that inform the solver of contact. Geometric contact data between completely locked trees will simply be ignored.
  * Any program that made the assumption that: num_contact_results = num_point_pairs + num_contact_surfaces will be broken.
* Remove pydrake.geometry.optimization.CopyableUniquePtrConvexSet ([#19343][_#19343])
  * Please use pydrake.geometry.optimization.ConvexSet
  
Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.15.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* [newly deprecated fix] TBD [systems/lcm] Use shared_ptr for LCM serializers ([#19369][_#19369])  # For a given message type, it's OK to use one const serializer across all systems that publish or subscribe for efficiency. This also allows us to greatly simplify the Python bindings. Deprecate SerializerInterface::Clone. It now has very little upside, but is extremely difficult to override correctly in Python.
New features

* Add DiagramBuilder::RemoveSystem ([#19243][_#19243])
* Add IsDetectable and IsStabilizable to LinearSystem class ([#19289][_#19289])

Fixes

* DiscreteDerivative sets suppress_initial_transient=true by default ([#19247][_#19247])
* Throw an error when Riccati equation is not solved for continuous time system ([#19222][_#19222])

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* [] TBD [solvers] Add max_explored_nodes for branch_and_bound ([#ec2ee07bae462a5ef64fba1a12361e691c33f17f][_#ec2ee07bae462a5ef64fba1a12361e691c33f17f])  # Early terminate the branch and bound process if the explored nodes in the tree exceeds this number. (#19366)
New features

* Add GetExpression to BezierCurve ([#19205][_#19205])

Fixes

* Fix a bug when calling ConstructMonomialBasis with a constant polynomial ([#19233][_#19233])
* Make GraphOfConvexSets preprocessing respect solver options ([#19312][_#19312])

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* [breaking change] TBD Update RenderEngineVtk to use RenderMaterial ([#19383][_#19383])  # RenderEngineVtk stops using vtkOBJReader and defers to RenderMesh and RenderMaterial to get OBJ mesh data and appearance. Behavior implications While the "if foo.png exists for foo.obj, apply it" behavior isn't *gone*, it *has* been supplanted in the case where foo.obj actually has a material library (mtl). So, if models out there had let the mtl file rot when they catered to Drake's former idiosyncracies, this will cause the appearance to shift back towards the actual material specification. Implementation details - The render engine is simply responsible for mapping those types to the VTK-specific representation. - internal_render_engine_vtk_base defines a new vtk polygon source based on the RenderMesh data. This is what replaces vtkOBJReader. - All non-mesh Shape types now use the RenderMaterial APIs to map from geometry properties to RenderMaterial. - The unit tests have simplified vis a vis meshes and textures. Now that it simply translates, we can rely on RenderMaterial tests to confirm the protocol logic and we just need to confirm RenderEngineVtk is exercising it and translating it correctly. - The RenderMesh -> vtkPolyData is capable of providing a more compact representation of the mesh than the vtkOBJReader (it created unique vertex data for each triangle). The gltf server code uses VTK to create gltf files. The reference gltf files used in the tests reflected the old, bloated mesh descriptions. They have been updated to the newer compact sizes. Some incidental clean up: - Default diffuse color is properly stored as Rgba now. - Optimized the normal case of not scaling the texture. - Added note for clarity about the efficacy of the scaling factor; it seems to pass in test, but it isn't clear *why*. This needs further investigation.
* [newly deprecated] TBD Refactor CspaceFreePolytope ([#19368][_#19368])  # Refactors CspaceFreePolytope internals to make it easier to develop the path certifier. As part of the patch, a free function GetCollisionGeometries() is deprecated. Co-Authored-By: Jeremy Nimmer <jeremy.nimmer@tri.global>
New features

* Add Rgba::update to selectively change values ([#19237][_#19237])
* Exposes SAP near rigid threshold ([#19218][_#19218])
* Add GeometryInstance overload without unique_ptr ([#19251][_#19251])
* Add optional rounding solver options ([#18875][_#18875])
* Support IRIS initial ellipse ([#19257][_#19257])
* Add SpatialInertia::SolidSphereWithMass() and HollowSphereWithMass() ([#19268][_#19268])
* Add Spectrahedron isa ConvexSet ([#19316][_#19316])
* ShapeReifier can configure default behavior ([#19367][_#19367])

Fixes

* Throw exceptions for spatial inertia primitives with mass or density that is not positive and finite ([#19192][_#19192])
* Set random state to default when distribution is missing ([#19230][_#19230])
* Improve URDF inertia invalidity handling ([#19238][_#19238])
* Sample MbP input force ports discretely ([#19225][_#19225])
* Respect axis element for planar joint in URDF ([#19355][_#19355])

## Planning

<!-- <relnotes for planning go here> -->

New features

* Add GcsTrajectoryOptimization ([#19239][_#19239])
* Add a time cost to GcsTrajectoryOptimization ([#19301][_#19301])
* Add velocity bounds to subgraphs of GcsTrajectoryOptimization ([#19334][_#19334])

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* Add support for T=Expression to QuadrotorPlant example ([#19256][_#19256])

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* [fix] TBD Improve math::AreAutoDiffVecXdEqual ([#19393][_#19393])  # Previously, it was possible that ExtractGradient (and therefore AreAutoDiffVecXdEqual) would throw, when this method should simply return false. Now we handle the case where the elements of the vector could have a different number of derivative values. This version should also be slightly faster. N.B. This came up for me because I had two different constraints setting values in a shared Context, but one was calling SetPositions(), and the other was calling SetPositionsAndVelocities().
* MeshcatVisualizer can filter geometry via property ([#19220][_#19220])
* Enable alpha adjustment of invisible geometry ([#19287][_#19287])
* Fix FindResource vs non-source Bazel builds ([#19206][_#19206])
* Add hash_append support for bare pointers ([#19248][_#19248])
* Add pydrake.math.matmul ([#19298][_#19298])
* Speed up symbolic matmul ([#19304][_#19304])
* Speed up matmul for double vs Variable ([#19345][_#19345])
* Update models of the IIWA 14 with estimated reflected inertia ([#19344][_#19344])

## pydrake bindings

<!-- <relnotes for bindings go here> -->

New features

Fixes

* Fix CompositeTrajectory constructor argument type ([#19252][_#19252])
* Fix docs & mypy stubs for GraphOfConvexSets ([#19283][_#19283])
* Handle nulls in ImportError reporting ([#19296][_#19296])

Newly bound

* pydrake.multibody.tree.SpatialInertia.SolidSphereWithMass() and HollowSphereWithMass() ([#19268][_#19268])
* pydrake.geometry.SceneGraph.ChangeShape() ([#19278][_#19278])
* pydrake.multibody.optimization.QuaternionEulerIntegrationConstraint.allow_quaternion_negation() ([#19288][_#19288])
* pydrake.multibody.optimization.QuaternionEulerIntegrationConstraint.ComposeVariable() ([#19288][_#19288])

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* Add missing runfiles to bazel drake_shared_library ([#19294][_#19294])
* Upgrade rules_python to latest release 0.21.0 ([#19332][_#19332])

## Build dependencies

<!-- <relnotes for workspace go here> -->

* Upgrade styleguide to latest commit ([#19277][_#19277])
* Update optitrack driver version ([#19324][_#19324])
* Upgrade abseil_cpp_internal to latest commit ([#19332][_#19332])
* Upgrade buildifier to latest release v6.1.2 ([#19332][_#19332])
* Upgrade common_robotics_utilities to latest commit ([#19332][_#19332])
* Upgrade dm_control_internal to latest commit ([#19332][_#19332])
* Upgrade lcm to latest release v1.5.0 ([#19332][_#19332])
* Upgrade petsc to latest release v3.19.1 ([#19332][_#19332])

## Newly-deprecated APIs

* pydrake.geometry.GeometryInstance.release_shape [#19251][_#19251])
* Drop the render qualifier for pydrake.geometry.render ([#19241][_#19241])
  * Everything in pydrake.geometry.render should be imported from pydrake.geometry now.
* Use a mutable scene_graph to setup ApplyVisualizationConfig ([#19217][_#19217]) 
  * Deprecate the const scene_graph overload of ApplyVisualizationConfig.

## Removal of deprecated items

* Remove deprecated code 2023-05 ([#19307][_#19307])

# Notes

This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.16.0) named
``drake-YYYYMMDD-{focal|jammy|mac|mac-arm64}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#18875]: https://github.com/RobotLocomotion/drake/pull/18875
[_#19192]: https://github.com/RobotLocomotion/drake/pull/19192
[_#19205]: https://github.com/RobotLocomotion/drake/pull/19205
[_#19206]: https://github.com/RobotLocomotion/drake/pull/19206
[_#19217]: https://github.com/RobotLocomotion/drake/pull/19217
[_#19218]: https://github.com/RobotLocomotion/drake/pull/19218
[_#19220]: https://github.com/RobotLocomotion/drake/pull/19220
[_#19222]: https://github.com/RobotLocomotion/drake/pull/19222
[_#19225]: https://github.com/RobotLocomotion/drake/pull/19225
[_#19230]: https://github.com/RobotLocomotion/drake/pull/19230
[_#19233]: https://github.com/RobotLocomotion/drake/pull/19233
[_#19237]: https://github.com/RobotLocomotion/drake/pull/19237
[_#19238]: https://github.com/RobotLocomotion/drake/pull/19238
[_#19239]: https://github.com/RobotLocomotion/drake/pull/19239
[_#19241]: https://github.com/RobotLocomotion/drake/pull/19241
[_#19243]: https://github.com/RobotLocomotion/drake/pull/19243
[_#19247]: https://github.com/RobotLocomotion/drake/pull/19247
[_#19248]: https://github.com/RobotLocomotion/drake/pull/19248
[_#19251]: https://github.com/RobotLocomotion/drake/pull/19251
[_#19252]: https://github.com/RobotLocomotion/drake/pull/19252
[_#19256]: https://github.com/RobotLocomotion/drake/pull/19256
[_#19257]: https://github.com/RobotLocomotion/drake/pull/19257
[_#19268]: https://github.com/RobotLocomotion/drake/pull/19268
[_#19277]: https://github.com/RobotLocomotion/drake/pull/19277
[_#19278]: https://github.com/RobotLocomotion/drake/pull/19278
[_#19283]: https://github.com/RobotLocomotion/drake/pull/19283
[_#19287]: https://github.com/RobotLocomotion/drake/pull/19287
[_#19288]: https://github.com/RobotLocomotion/drake/pull/19288
[_#19289]: https://github.com/RobotLocomotion/drake/pull/19289
[_#19294]: https://github.com/RobotLocomotion/drake/pull/19294
[_#19296]: https://github.com/RobotLocomotion/drake/pull/19296
[_#19298]: https://github.com/RobotLocomotion/drake/pull/19298
[_#19301]: https://github.com/RobotLocomotion/drake/pull/19301
[_#19304]: https://github.com/RobotLocomotion/drake/pull/19304
[_#19307]: https://github.com/RobotLocomotion/drake/pull/19307
[_#19312]: https://github.com/RobotLocomotion/drake/pull/19312
[_#19316]: https://github.com/RobotLocomotion/drake/pull/19316
[_#19324]: https://github.com/RobotLocomotion/drake/pull/19324
[_#19332]: https://github.com/RobotLocomotion/drake/pull/19332
[_#19334]: https://github.com/RobotLocomotion/drake/pull/19334
[_#19343]: https://github.com/RobotLocomotion/drake/pull/19343
[_#19344]: https://github.com/RobotLocomotion/drake/pull/19344
[_#19345]: https://github.com/RobotLocomotion/drake/pull/19345
[_#19349]: https://github.com/RobotLocomotion/drake/pull/19349
[_#19355]: https://github.com/RobotLocomotion/drake/pull/19355
[_#19367]: https://github.com/RobotLocomotion/drake/pull/19367
[_#19368]: https://github.com/RobotLocomotion/drake/pull/19368
[_#19369]: https://github.com/RobotLocomotion/drake/pull/19369
[_#19383]: https://github.com/RobotLocomotion/drake/pull/19383
[_#19393]: https://github.com/RobotLocomotion/drake/pull/19393
<!-- <end issue links> -->

<!--
  Current oldest_commit d55ac42eba8027bd4a643fb485236ae01f8618c9 (exclusive).
  Current newest_commit 8ecb82df23e4049d09cf4dfb14cea31d1880ae48 (inclusive).
-->
