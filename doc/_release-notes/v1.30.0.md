---
title: Drake v1.30.0
date: 2099-12-31
released: YYYY-MM-DD
---

# Announcements

* TBD

# Breaking changes since v1.29.0

* TBD

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.29.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* [fix] TBD Make C++ argument names match Python for DeclareAbstractOutputPort() ([#21478][_#21478])

New features

* TBD

Fixes

* TBD

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* [fix] TBD [solvers] Put OsqpSolver in deterministic mode by default ([#21434][_#21434])  # When adaptive_rho is enabled (the default) and adaptive_rho_interval is zero (the default), OSQP will guesstimate a suitable interval using wall clock timing measurements. This leads to non-reproducible results based on changes in CPU timing. In Drake we treasure reproducibility, so we should set our own default using a fixed schedule. We'll choose adaptive_rho_interval=ADAPTIVE_RHO_FIXED, which is OSQP's default value on embedded platforms that lack access to timing measurements. Users who wish to keep using adaptive_rho_interval=0 can customize their SolverOptions to override the default. Refer to the OSQP docs for other adaptive_rho-related options. This also repairs the SolverOptions data type for adaptive_rho_interval: it was a double, but should have been an int.
* [feature] TBD [solvers] CsdpSolver obeys SolverOptions ([#21449][_#21449])
* [feature] TBD IpoptSolver sets the sparsity parttern of the linear constraints ([#21492][_#21492])
* [feature] TBD Set IPOPT nonlinear constraint sparsity ([#21499][_#21499])  # If the users specifies the sparsity pattern through `Constraint::SetSparsityPattern()`, then IpoptSolver should respect this sparsity pattern.

New features

* TBD

Fixes

* TBD

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* [feature] TBD [multibody] Allow setting DiffIK solver options ([#21433][_#21433])
* [feature] TBD SapSolver<AutoDiffXd>::SolveWithGuess() propagates gradients ([#21431][_#21431])
* [feature] TBD [geometry,multibody,examples,tutorials] [geometry, multibody] Integrate scene graph configuration ([#21366][_#21366])  # This patch integrates SceneGraphConfig into scene graph, and completes the implementation of easy, no-annotation hydroelastic configuration.
* [breaking change] TBD [multibody] Change "InPlace" functions to return void ([#21438][_#21438])  # Returning a dangling reference to *this is just asking for trouble. Specifically, this forces us to stop using the 'return foo.BarInPlace' anti-pattern. The old spelling called the copy constructor twice, instead of just once. In many cases the two calls are mostly elided, but not always.
* [fix] TBD Enforce uniqueness of render buffers between RenderEngineGl instances ([#21466][_#21466])  # Multiple RenderEngineGl instances share OpenGl objects in their shared context. Historically, this has included render buffers. A recent upgrade to NVidia drivers exposed this as problematic. Now, each clone is responsible for creating its own render targets.
* [fix] TBD [pydrake] Add repr for SpatialInertia.Zero ([#21515][_#21515])  # This fixes hex addresses in our docs. In support of that, also add a SpatialInertia::IsZero helper, and backfill some missing bindings.
* [fix] TBD [geometry] Update default resolution hint ([#21511][_#21511])
* [removal of deprecated] TBD [geometry,multibody] Remove deprecated code 2024-06 ([#21503][_#21503])

New features

* TBD

Fixes

* TBD

## Planning

<!-- <relnotes for planning go here> -->

* [feature] TBD [planning,solvers] add nonlinear derivative bounds ([#21459][_#21459])
* [feature] TBD added nonlinear continuity constraints ([#21480][_#21480])

New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* [newly deprecated] TBD [examples,tools,systems,manipulation] [tools] Remove vector_gen ([#21439][_#21439])  # We don't think using BasicVector subclassing is a good idea anymore, so we'll commit the generated code as it stands today and remove the tool, so no new uses creep in. The tool is not Stable API, so we can remove it without deprecation. Users who still wish to use it are invited to fork (copy) it to their own projects. Another reason we're dropping this tool is to remove the build-time dependency on pyyaml. We occasionally get reports of people unable to install Drake (e.g., via CMake) because thier python interpreter's native modules aren't working vs install_prereqs. In that light, this should generally improve our cross-platform portability story. Some of the generated code was Stable API. The old include paths that used the "gen" subdir are now deprecated; users should remove "gen" from their include paths. Even though the examples are not stable, we still deprecate (for public headers) since we needed to do that for some other generated code already.
* [newly deprecated] TBD [examples,multibody,doc] Makes multibody/constraint private within examples/rod2d ([#21445][_#21445])  # We move the entire multibody/constraint into the only place it gets used examples/rod2d. Along with this, we properly deprecate the original constraint_solver for removal, leaving the original files as copies in `multibody/constraint` simply to provide a proper deprecation window. The docs are removed from our public Doxygen modules to avoid this old confusion users have that we have an LCP solver in Drake. The docs are now a local README file in examples/rod2d/constraint. Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* [feature] TBD [common,solvers,math] Add support for parsing symbolic L2 norm costs ([#21394][_#21394])  # In a recent underactuated pset, we found that *lots* of people wanted to pass e.g. np.linalg.norm(x1-x2) to the AddCost methods, and were stymied by a lack of support there. Asking them to instead suddenly understand how to create an L2NormCost, create the binding, and pass _that_ to (GCS's version of) AddCost was too much. This PR adds DecomposeL2NormExpression, and uses it in prog.AddCost(expression). Consistent with the other Add*Cost methods, it also adds prog.AddL2NormCost(expression), with all of the specific tolerance arguments.
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* [fix] TBD [pydrake] Add repr for Parallelism ([#21517][_#21517])  # This fixes hex addresses in our docs.

New features

* TBD

Fixes

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* [fix] TBD [tools,workspace] [tools] On macOS add /usr/sbin and /sbin to $PATH ([#21465][_#21465])  # Some font hunting stuff inside matplotlib needs system_profiler.
* [fix] TBD [setup] Prune some unused macOS dependencies ([#21454][_#21454])  # No need to tap 'robotlocomotion' anymore. Switch 'cmake' to a source prereq. Drop unused 'xz' (vestigial from VTK). Drop unused 'yaml-cpp' (now built from source). Drop unused 'zeromq' (vestigial from meshcat).
* [feature] TBD [tools,workspace,cmake] Export Drake version in drake-config.cmake ([#21450][_#21450])  # Improve cmake_configure_file to recognize an '--atonly' option which replicates CMake's '@ONLY' mode, refactoring and simplifying the code in the process and also fixing a minor bug where e.g. '${x${var}}' would incorrectly try to substitute 'x${var'.  Modify CMake build to pass the version information into the Bazel build. Add logic to extract the version information (if provided) and to provide it in the generated drake-config.cmake. Use '${CMAKE_FIND_PACKAGE_NAME}' consistently in the same.
* TBD

## Build dependencies

<!-- <relnotes for workspace go here> -->

* [fix] TBD [workspace] Upgrade drake_models to latest commit ([#21442][_#21442])
* [newly deprecated fix] TBD [workspace,tools,systems,solvers,setup] [workspace] Switch macOS to use Accelerate for BLAS/LAPACK ([#21135][_#21135])  # This follows numpy and scipy which have investigated and demonstrated that Accelerate is now the best choice on modern macOS. Deprecate the openblas external.
* TBD

## Newly-deprecated APIs

* TBD

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.30.0) named
``drake-1.30.0-{jammy|mac-arm64}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#21135]: https://github.com/RobotLocomotion/drake/pull/21135
[_#21366]: https://github.com/RobotLocomotion/drake/pull/21366
[_#21394]: https://github.com/RobotLocomotion/drake/pull/21394
[_#21431]: https://github.com/RobotLocomotion/drake/pull/21431
[_#21433]: https://github.com/RobotLocomotion/drake/pull/21433
[_#21434]: https://github.com/RobotLocomotion/drake/pull/21434
[_#21438]: https://github.com/RobotLocomotion/drake/pull/21438
[_#21439]: https://github.com/RobotLocomotion/drake/pull/21439
[_#21442]: https://github.com/RobotLocomotion/drake/pull/21442
[_#21445]: https://github.com/RobotLocomotion/drake/pull/21445
[_#21449]: https://github.com/RobotLocomotion/drake/pull/21449
[_#21450]: https://github.com/RobotLocomotion/drake/pull/21450
[_#21454]: https://github.com/RobotLocomotion/drake/pull/21454
[_#21459]: https://github.com/RobotLocomotion/drake/pull/21459
[_#21465]: https://github.com/RobotLocomotion/drake/pull/21465
[_#21466]: https://github.com/RobotLocomotion/drake/pull/21466
[_#21478]: https://github.com/RobotLocomotion/drake/pull/21478
[_#21480]: https://github.com/RobotLocomotion/drake/pull/21480
[_#21492]: https://github.com/RobotLocomotion/drake/pull/21492
[_#21499]: https://github.com/RobotLocomotion/drake/pull/21499
[_#21503]: https://github.com/RobotLocomotion/drake/pull/21503
[_#21511]: https://github.com/RobotLocomotion/drake/pull/21511
[_#21515]: https://github.com/RobotLocomotion/drake/pull/21515
[_#21517]: https://github.com/RobotLocomotion/drake/pull/21517
<!-- <end issue links> -->

<!--
  Current oldest_commit 11b390d7b5697ea91f330bac57f1d98bb7d565de (exclusive).
  Current newest_commit 20d94b05a03cf0db0bc06dd9293de4e209a56e94 (inclusive).
-->
