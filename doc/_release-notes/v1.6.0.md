---
title: Drake v1.6.0
released: YYYY-MM-DD
---

# Announcements

* This release marks the first appearance of the new planning folder.
  * The first set of planning software will come from TRI's private Anzu code
     base. Look for this to arrive in chunks over the next several releases.
     
# Breaking changes since v1.5.0

* TBD

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.5.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

New features

* TBD

Fixes

* [systems,examples] Reverse ApplySimulatorConfig parameter order ([#17654][_#17654])

## Mathematical Program

<!-- <relnotes for solvers go here> -->

New features

* TBD

Fixes

* Remove sparseness_threshold in gurobi_solver. Users should change their MathematicalProgram to remove small coefficients, rather than relying on the threshold previously hidden inside gurobi_solver.cc. ([#17648][_#17648])


## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* TBD [multibody,manipulation] [multibody] All bodies and frames must have a non-empty name ([#17632][_#17632])  # Names are not essential for the MbT itself, but they are essential for all of the related accouterments -- logging, visualization, export, etc. Rather than make all of that code add special cases for empty names, it's easier to enforce that names are non-empty. We could do that by inventing dummy names under the hood (indeed, we do that here for the deprecation period) but the names will be much better if we force the user to provide them.
* TBD [sap] Enable kinematic AutoDiffXd simulation with SAP ([#17651][_#17651])  # - Allow CompliantContactManager to scalar convert to double and AutoDiffXd. - SapSolver supports AutoDiffXd for solving trivial contact problems (zero constraints). With these two items, we enable kinematic simulation with SAP + AutoDiffXd.
* TBD [multibody,examples] Implement capability to define coupler constraints ([#17639][_#17639])  # This PR: - Introduces MultibodyPlant::AddCouplerConstraint() to declare coupler constraints. - Updates the CompliantContactManager to build a contact problem including these coupler constraints. - Updates the simple_gripper.cc example to showcase this new capability. The SDF model is updated so that now finger positions are symmetric from the center of the gripper.
* TBD [geometry] Fix copy semantics of MeshFieldLinear ([#17670][_#17670])  # - Make copy constructor and copy assignment private. - Documentation: use CloneAndSetMesh() as replacement of copy constructor.
* TBD [geometry] Move MakeRenderEngineGltfClient() from the dev folder ([#17678][_#17678])
* TBD [geometry/optimization] Add HPolyhedron::UniformSample ([#17629][_#17629])  # Adds a method to perform hit-and-run MCMC to draw (approximately) uniform samples from the interior of an HPolyhedron.
* TBD [geometry,multibody] [meshcat]: Adds hydroelastic contact surface to meshcat visualization ([#17599][_#17599])  # Adds hydroelastic contact surface to meshcat visualization
* TBD [multibody,tutorials,examples] [multibody] Correct WeldJoint frame notation ([#17696][_#17696])  # Correct frame notation in WeldJoint to match notation used in Joint documentation.

New features

* TBD
* Add PositionCost for inverse kinematics ([#17587][_#17587])
* Add OrientationCost for inverse kinematics ([#17592][_#17592])
* Add GlobalIK::SetInitialGuess and benchmark ([#17608][_#17608])
* Add PolyhedronConstraint as a kinematic constraint ([#17596][_#17596])

Fixes

* TBD
* Fix incorrect use of InitializeAutoDiff when gradients are not needed ([#17577][_#17577])
* Remove SpatialInertia::MakeTestCube() in favor of SpatialInertia::MakeUnitary() ([#17547][_#17547])
* Provide more feedback when MultibodyPlant query object port is unconnected ([#17485][_#17485])
* Speed up OrientationConstraint implementation ([#17591][_#17591])
* Handle unknown packages gracefully while processing model directives ([#17604][_#17604])
* SDFormat parser uses axis information from universal joints ([#17607][_#17607])

## Planning

<!-- <relnotes for planning go here> -->

* TBD [planning] Add RobotDiagram files copied from Anzu ([#17594][_#17594])  # Co-authored-by: calderpg-tri <32444241+calderpg-tri@users.noreply.github.com> Co-authored-by: Eric Cousineau <eric.cousineau@tri.global> Co-authored-by: Grant Gould <ggould@tri.global> Co-authored-by: siyuanfeng-tri <siyuan.feng@tri.global>
* TBD [planning,systems,tools] [planning] Add RobotDiagram and RobotDiagramBuilder ([#17594][_#17594])  # This commit adds the copied code to the BUILD and fixes its namespaces and include paths to match up with Drake instead of Anzu. Also improves the implementation as noted during Drake code reviews.

New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD [examples,multibody] Update examples to make use of AddMultibodyPlantSceneGraph ([#17580][_#17580])  # In various locations, MultibodyPlants and SceneGraphs were being created and connected by hand. This updates many of those examples to the preferred mechanism. There are different categories of changes: - Simple - A large number of locales was a simple API change. Individually instantiated MbP and SG simply get replaced. - MultibodyPlant factories - In examples/multibody, there were a couple of functions that would create and populate the plant. These factory methods are not compatible with AddMultibodyPlantSceneGraph. - The factories have been changed to populating existing plants. - This allows for the call sites to be upgraded. - The examples were also unified in their semantics; the examples are now more consistent. - The example files have been renamed to be consistent. This doesn't address all cases where plants and scene graphs get managed by hand. The following remain untouched: - ManipulationStation: maintains its own instances of MbP and SG so that it can be populated before being built into a diagram. - examples/scene_graph/bouncing_ball_plant.* This is a bespoke plant with its own dynamics. It connected to SG for visualization. This must still register and connect to SceneGraph by hand.
* TBD Add demo program for hardware simulation ([#17615][_#17615])
* TBD [examples] Deleting the particles example ([#17653][_#17653])  # * Deleting the particles example While the particles example illustrates the absolutely simplest possible dynamics system (with a non-zero acceleration), that is its *only* value. Visualizing it shows a sphere instantly racing out of view and the code manifests an anti-pattern (using AllocateContext() instead of CreateDefaultContext()). As there are other examples that introduce bespoke continuous systems (e.g., pendulum), this examples contribution is not justified.
* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception,visualization go here> -->

* TBD [math,tools] [math] Reduce implementation boilerplate for autodiff ([#17516][_#17516])  # The clutter was getting in the way of my understanding of the code while adding support for new autodiff types, and it any case the simpler versions should be easier to read and maintain overall. Update project-wide Clang flags to silence its warning about C++20 features imported from the future. Fix the autodiff initialization and functions to be more aware of storage order, in terms of documenting what they are doing, preserving storage order where practical, and static-asserting when misused. This introduces one breaking change -- ExtractGradient now accounts for the storage order of its input, instead of always tracing in ColMajor order. For most users this will be no change because Eigen's default storage is ColMajor anyway.
* TBD Rational function python bindings ([#17522][_#17522])  # In addition to binding the previously unbound RationalFunction, we also extend its functionality and tests: 1. It can be constructed on Monomial. 2. We define mathematical operations w.r.t. Monomial. 3. Provide the missing ToExpression and SetIndetermiantes APIs.
* TBD Polynomial prunes terms with trivially-zero coefficients ([#17611][_#17611])
* TBD [symbolic] Speed up Expression via nanboxing ([#17544][_#17544])  # This substantially speeds up symbolic evaluation by storing both the ExpressionKind and the constant literal value (if present) directly inline within the Expression object.
* TBD [common,examples] [common] Ensure runfiles meet their promise of being absolute paths ([#17643][_#17643])  # Add more cwd debug-logging to show what's happening. Update the hardware_sim demo to set a valid runfiles path.
* TBD [visualization] Copy drake_visualizer_config and related from Anzu ([#17645][_#17645])  # Co-authored-by: zachfang <zach.fang@tri.global>
* TBD [visualization,examples,tools] [visualization] Add ApplyVisualizerConfig for easy visualizer setup ([#17645][_#17645])  # This updates the Anzu names, namespaces, etc. for Drake.
* TBD [manipulation,tools,solvers,setup] Remove deprecated code 2022-08 ([#17660][_#17660])  # Also removes some 2022-06 vestigial leftovers.
* TBD Add python binding for ComputeNumericalGradient ([#17684][_#17684])
* TBD [visualization,manipulation,examples] [visualization] Improve ApplyVisualizerConfig usability ([#17641][_#17641])  # * [visualization] Make ApplyVisualizerConfig easier to use
* TBD [manipulation] Copy ZeroForceDriver and related from Anzu ([#17694][_#17694])  # Co-authored-by: Grant Gould <ggould@tri.global> Co-authored-by: zachfang <zach.fang@tri.global>
* TBD [manipulation,examples] [manipulation] Add ZeroForceDriver for hardware_sim ([#17694][_#17694])
* Add LcmBuses and related config functions ([#17614][_#17614])
* Enable multiple visualization channels ([#17595][_#17595])
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* TBD Add python binding of SubstituteStereographicProjection ([#17617][_#17617])
* TBD [visualization] Improve meldis error message ([#17642][_#17642])  # Meldis does not yet support hydroelastic meshes that are transmitted inline.
* TBD [pydrake] Binding ContactSurface mesh fields ([#17637][_#17637])  # 1. Binding the underlying mesh field types: - PolygonSurfaceMeshField - TriangleSurfaceMeshField 2. Bind the missing methods on ContactSurface. 3. Unit tests on newly bound code. - Generally, unit tests on ContactSurface bindings were missing, and this adds them.
* TBD [pydrake/lcm] Overload constructors to take an LcmInterfaceSystem ([#17668][_#17668])  # For the LcmPublisherSystem and LcmSubscriberSystem constructors.
* TBD Add python binding on GurobiSolver callbacks ([#17704][_#17704])

New features

* TBD

Fixes

* TBD

Newly bound

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* TBD [workspace] Upgrade mypy to latest commit ([#17552][_#17552])  # Update mypy, bringing in a patch to increase the timeout before aborting an attempt to import a module. The default timeout of 5s is not long enough to import `pydrake` in some configurations. Also increase the timeout on our `stubgen_test`. See https://github.com/python/mypy/pull/13109.
* TBD [doc,tools] [doc] Document all nightly uploads and expiration policies ([#17413][_#17413])  # - Advertise nightly `.tar.gz`, `.deb`, and python wheel urls. - Download links with YYYYMMDD in their url are available for ~56 days after their upload.  Previously these were available for 2 years. - Build artifacts for drake hosted in the drake-packages s3 bucket are available for 5 years from upload (e.g., ubuntu VTK tarballs).
* TBD [doc] Add macOS stable releases for pip wheels ([#17619][_#17619])  # I've uploaded a v1.5.0 wheel using this process.
* TBD [workspace] Update MUMPS to 5.5.0 ([#17626][_#17626])  # Update the version of MUMPS used to build wheels to 5.5.0, matching recent updates to homebrew.
* TBD [pydrake] Ignore Eigen::Sparse overloads when scipy is missing ([#17570][_#17570])  # [workspace] Upgrade pybind11 to latest commit.
* TBD Use Ubuntu mirror for MUMPS (wheel builds) ([#17646][_#17646])  # MUMPS has recently become unreliable as far as providing tarballs. In order to be less dependent on upstream, switch to using Ubuntu's source mirror as the preferred source for the tarball. Note that, because Ubuntu only ships a limited set of versions, this requires downgrading to 5.4.1, which as far as I can tell has never been shipped by Homebrew. Thus, in this respect, the macOS wheels will be more similar to the Ubuntu wheels than the macOS non-wheels.
* TBD [setup,tools] [workspace] Remove scipy dependency ([#17559][_#17559])
* TBD [workspace] Upgrade gz_math_internal to latest version ([#17673][_#17673])
* TBD [workspace] Upgrade abseil_cpp_internal to latest commit ([#17669][_#17669])
* TBD [workspace] Upgrade dm_control_internal to latest commit ([#17669][_#17669])
* TBD [workspace] Upgrade googlebenchmark to latest release v1.7.0 ([#17669][_#17669])
* TBD [workspace] Upgrade pycodestyle to latest release 2.9.0 ([#17669][_#17669])
* TBD [workspace] Upgrade rules_python to latest release 0.10.2 ([#17669][_#17669])
* TBD [workspace] Upgrade styleguide to latest commit ([#17669][_#17669])
* TBD [workspace] Upgrade common_robotics_utilities to latest commit ([#17669][_#17669])
* TBD [workspace] Upgrade voxelized_geometry_tools to latest commit ([#17669][_#17669])
* TBD Bump CRU & VGT to latest ([#17702][_#17702])
* TBD

## Build dependencies

<!-- Manually relocate any "Upgrade foo_external to latest" lines to here, -->
<!-- and then sort them alphabetically. -->

* TBD

## Newly-deprecated APIs

* TBD
* `drake::systems::ApplySimulatorConfig` with simulator argument first ([#17654][_#17654])
* `//multibody/inverse_kinematics:kinematic_constraint` ([#17575][_#17575])([#17585][_#17585])


## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.6.0) named
``drake-YYYYMMDD-{focal|mac}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#17413]: https://github.com/RobotLocomotion/drake/pull/17413
[_#17485]: https://github.com/RobotLocomotion/drake/pull/17485
[_#17516]: https://github.com/RobotLocomotion/drake/pull/17516
[_#17522]: https://github.com/RobotLocomotion/drake/pull/17522
[_#17544]: https://github.com/RobotLocomotion/drake/pull/17544
[_#17547]: https://github.com/RobotLocomotion/drake/pull/17547
[_#17552]: https://github.com/RobotLocomotion/drake/pull/17552
[_#17559]: https://github.com/RobotLocomotion/drake/pull/17559
[_#17570]: https://github.com/RobotLocomotion/drake/pull/17570
[_#17575]: https://github.com/RobotLocomotion/drake/pull/17575
[_#17577]: https://github.com/RobotLocomotion/drake/pull/17577
[_#17580]: https://github.com/RobotLocomotion/drake/pull/17580
[_#17585]: https://github.com/RobotLocomotion/drake/pull/17585
[_#17587]: https://github.com/RobotLocomotion/drake/pull/17587
[_#17591]: https://github.com/RobotLocomotion/drake/pull/17591
[_#17592]: https://github.com/RobotLocomotion/drake/pull/17592
[_#17594]: https://github.com/RobotLocomotion/drake/pull/17594
[_#17595]: https://github.com/RobotLocomotion/drake/pull/17595
[_#17596]: https://github.com/RobotLocomotion/drake/pull/17596
[_#17599]: https://github.com/RobotLocomotion/drake/pull/17599
[_#17604]: https://github.com/RobotLocomotion/drake/pull/17604
[_#17607]: https://github.com/RobotLocomotion/drake/pull/17607
[_#17608]: https://github.com/RobotLocomotion/drake/pull/17608
[_#17611]: https://github.com/RobotLocomotion/drake/pull/17611
[_#17614]: https://github.com/RobotLocomotion/drake/pull/17614
[_#17615]: https://github.com/RobotLocomotion/drake/pull/17615
[_#17617]: https://github.com/RobotLocomotion/drake/pull/17617
[_#17619]: https://github.com/RobotLocomotion/drake/pull/17619
[_#17626]: https://github.com/RobotLocomotion/drake/pull/17626
[_#17629]: https://github.com/RobotLocomotion/drake/pull/17629
[_#17632]: https://github.com/RobotLocomotion/drake/pull/17632
[_#17637]: https://github.com/RobotLocomotion/drake/pull/17637
[_#17639]: https://github.com/RobotLocomotion/drake/pull/17639
[_#17641]: https://github.com/RobotLocomotion/drake/pull/17641
[_#17642]: https://github.com/RobotLocomotion/drake/pull/17642
[_#17643]: https://github.com/RobotLocomotion/drake/pull/17643
[_#17645]: https://github.com/RobotLocomotion/drake/pull/17645
[_#17646]: https://github.com/RobotLocomotion/drake/pull/17646
[_#17648]: https://github.com/RobotLocomotion/drake/pull/17648
[_#17651]: https://github.com/RobotLocomotion/drake/pull/17651
[_#17653]: https://github.com/RobotLocomotion/drake/pull/17653
[_#17654]: https://github.com/RobotLocomotion/drake/pull/17654
[_#17660]: https://github.com/RobotLocomotion/drake/pull/17660
[_#17668]: https://github.com/RobotLocomotion/drake/pull/17668
[_#17669]: https://github.com/RobotLocomotion/drake/pull/17669
[_#17670]: https://github.com/RobotLocomotion/drake/pull/17670
[_#17673]: https://github.com/RobotLocomotion/drake/pull/17673
[_#17678]: https://github.com/RobotLocomotion/drake/pull/17678
[_#17684]: https://github.com/RobotLocomotion/drake/pull/17684
[_#17694]: https://github.com/RobotLocomotion/drake/pull/17694
[_#17696]: https://github.com/RobotLocomotion/drake/pull/17696
[_#17702]: https://github.com/RobotLocomotion/drake/pull/17702
[_#17704]: https://github.com/RobotLocomotion/drake/pull/17704
<!-- <end issue links> -->

<!--
  Current oldest_commit dc024c28bf306c8f1226fe1b12dbd2800cb63746 (exclusive).
  Current newest_commit 1266289de497f8ed090167b6da11aa731500790e (inclusive).
-->
