if (fcl_FOUND)
  if (bullet_FOUND)
    set(Boost_DEBUG TRUE)
    add_executable( fcl_model_test fcl_model_test.cc)
    target_link_libraries(fcl_model_test drakeCollision)
  endif()

  if (GTEST_FOUND)
    add_executable(model_test_fcl model_test.cc)
    target_compile_definitions(model_test_fcl PRIVATE MODELTYPE=FCL)
    target_link_libraries(model_test_fcl drakeCollision ${GTEST_BOTH_LIBRARIES})
    add_test(NAME model_test_fcl COMMAND model_test_fcl)
  endif()
endif()

if (bullet_FOUND AND GTEST_FOUND)
  add_executable(model_test_bullet model_test.cc)
  target_compile_definitions(model_test_bullet PRIVATE MODELTYPE=BULLET)
  target_link_libraries(model_test_bullet drakeCollision ${GTEST_BOTH_LIBRARIES})
  add_test(NAME model_test_bullet COMMAND model_test_bullet)
endif()

add_matlab_test(NAME systems/plants/collision/test/testActiveCollisionOptions COMMAND testActiveCollisionOptions)
