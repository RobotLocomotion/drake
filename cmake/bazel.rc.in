# Generated by CMake @CMAKE_VERSION@ for @PROJECT_NAME@ from cmake/bazel.rc.in.
# Any changes to this file will be overwritten by the next CMake run.

# The scratch directory Bazel will use for the build.
startup --output_base="@BAZEL_OUTPUT_BASE@"

# Be verbose.
common --announce_rc

# Inherit Drake's default options.
@BAZELRC_IMPORT@

# Switch to using module dependencies (not pkg-config). If the user sets one of
# the CMake options for WITH_USER_... then BAZEL_REPO_ENV below will override
# the module path to refer to what the user provided.
common --@drake//tools/flags:public_repo_default=module

# Flags that tweak repository rules (if any).
common @BAZEL_REPO_ENV@

# Disable the "convenience symlinks" intended for Bazel users; they only add
# confusion for the CMake use case.
build --symlink_prefix=/

# Fix macOS per https://github.com/bazelbuild/bazel/issues/14294.
build --notrim_test_configuration

# Disable ccache due to incompatibility with Bazel.
build --action_env=CCACHE_DISABLE=1

# Transcriptions of CMake configs into their equivalent Bazel flags.
build:Debug --compilation_mode=dbg --fission=no
build:MinSizeRel --compilation_mode=opt --copt=-Os --host_copt=-Os
build:Release --compilation_mode=opt
build:RelWithDebInfo --compilation_mode=opt --fission=no --copt=-g --host_copt=-g

# Pass along the compiler version.
build --@drake//tools/cc_toolchain:compiler_major=@DRAKE_CC_TOOLCHAIN_COMPILER_MAJOR@

# Match CMAKE_BUILD_TYPE as well as the WITH_FOO customizations.
build @BAZEL_CONFIG@

# Respect user.bazelrc (when present).
try-import @PROJECT_SOURCE_DIR@/user.bazelrc

# Use build-specific bazel options (if present).
try-import @PROJECT_BINARY_DIR@/drake.bazelrc

# Provide the contents of VERSION.TXT in Bazel's stable-status.txt file for use
# by the stamping rules in tools/install/libdrake/BUILD.bazel.
build --stamp
build --workspace_status_command="sed 's/^/STABLE_VERSION /' '@PROJECT_BINARY_DIR@/VERSION.TXT'"

# TODO(jwnimmer-tri) Pass along CMAKE_C_FLAGS and CMAKE_CXX_FLAGS also, and
# specifically make sure the user's -std=c++NN is respected.
